import{h as jo,r as o,i as V,j as d,J as Sr}from"./index-BDmL_pBI.js";var Yn=jo(),Lo=Object.defineProperty,Tr=(e,t)=>{for(var n in t)Lo(e,n,{get:t[n],enumerable:!0,configurable:!0,set:r=>t[n]=()=>r})};if(typeof o.createContext!="function"){const e=['Remotion requires React.createContext, but it is "undefined".','If you are in a React Server Component, turn it into a client component by adding "use client" at the top of the file.',"","Before:",'  import {useCurrentFrame} from "remotion";',"","After:",'  "use client";','  import {useCurrentFrame} from "remotion";'];throw new Error(e.join(`
`))}function Jn(){return["NOD","E_EN","V"].join("")}var Gn=()=>["e","nv"].join(""),he=()=>{const e=typeof window<"u"&&window.remotion_isPlayer,t=typeof window<"u"&&typeof window.process<"u"&&typeof window.process.env<"u"&&(window.process[Gn()][Jn()]==="test"||window.process[Gn()][Jn()]==="production"&&typeof window<"u"&&typeof window.remotion_puppeteerTimeout<"u"),n=typeof window<"u"&&window.remotion_isStudio,r=typeof window<"u"&&window.remotion_isReadOnlyStudio;return{isStudio:n,isRendering:t,isPlayer:e,isReadOnlyStudio:r,isClientSideRendering:!1}},_o=V.createElement,Do=Sr.jsx,Rr=[],Kn=e=>new Proxy(e,{apply(t,n,r){if(Rr.includes(r[0])){const[i,s,...u]=r,l=s.stack?s:{...s??{},stack:new Error().stack};return Reflect.apply(t,n,[i,l,...u])}return Reflect.apply(t,n,r)}}),Pr=()=>{he().isStudio&&(V.createElement=Kn(_o),Sr.jsx=Kn(Do))},Ke=e=>{Rr.push(e),Pr()},kr=o.createContext(!1),Bo=({children:e})=>d.jsx(kr.Provider,{value:!0,children:e}),yn=()=>o.useContext(kr);function dt(e){return!!e}var lt="4.0.427",Oo=()=>{if(typeof globalThis>"u")return;const e=()=>{globalThis.remotion_imported=lt,typeof window<"u"&&(window.remotion_imported=lt)},t=globalThis.remotion_imported||typeof window<"u"&&window.remotion_imported;if(t){if(t===lt)return;if(typeof t=="string"&&t.includes("webcodecs")){e();return}throw new TypeError(`ðŸš¨ Multiple versions of Remotion detected: ${[lt,typeof t=="string"?t:"an older version"].filter(dt).join(" and ")}. This will cause things to break in an unexpected way.
Check that all your Remotion packages are on the same version. If your dependencies depend on Remotion, make them peer dependencies. You can also run \`npx remotion versions\` from your terminal to see which versions are mismatching.`)}e()},ke=({className:e,classPrefix:t,type:n})=>{if(!e)return!1;if(n==="exact"){const r=e.split(" ");return t.some(i=>r.some(s=>s.trim()===i||s.trim().endsWith(`:${i}`)||s.trim().endsWith(`!${i}`)))}return t.some(r=>e.startsWith(r)||e.includes(` ${r}`)||e.includes(`!${r}`)||e.includes(`:${r}`))},Uo=(e,t)=>{const{style:n,...r}=e,i=o.useMemo(()=>({position:"absolute",top:ke({className:r.className,classPrefix:["top-","inset-"],type:"prefix"})?void 0:0,left:ke({className:r.className,classPrefix:["left-","inset-"],type:"prefix"})?void 0:0,right:ke({className:r.className,classPrefix:["right-","inset-"],type:"prefix"})?void 0:0,bottom:ke({className:r.className,classPrefix:["bottom-","inset-"],type:"prefix"})?void 0:0,width:ke({className:r.className,classPrefix:["w-"],type:"prefix"})?void 0:"100%",height:ke({className:r.className,classPrefix:["h-"],type:"prefix"})?void 0:"100%",display:ke({className:r.className,classPrefix:["block","inline-block","inline","flex","inline-flex","flow-root","grid","inline-grid","contents","list-item","hidden"],type:"exact"})?void 0:"flex",flexDirection:ke({className:r.className,classPrefix:["flex-row","flex-col","flex-row-reverse","flex-col-reverse"],type:"exact"})?void 0:"column",...n}),[r.className,n]);return d.jsx("div",{ref:t,style:i,...r})},Ce=o.forwardRef(Uo),Z=o.createContext(null),Xe=V.createContext({registerSequence:()=>{throw new Error("SequenceManagerContext not initialized")},unregisterSequence:()=>{throw new Error("SequenceManagerContext not initialized")},sequences:[]}),ft=V.createContext({hidden:{},setHidden:()=>{throw new Error("SequenceVisibilityToggle not initialized")}}),Ho=({children:e})=>{const[t,n]=o.useState([]),[r,i]=o.useState({}),s=o.useCallback(c=>{n(m=>[...m,c])},[]),u=o.useCallback(c=>{n(m=>m.filter(f=>f.id!==c))},[]),l=o.useMemo(()=>({registerSequence:s,sequences:t,unregisterSequence:u}),[s,t,u]),a=o.useMemo(()=>({hidden:r,setHidden:i}),[r]);return d.jsx(Xe.Provider,{value:l,children:d.jsx(ft.Provider,{value:a,children:e})})};function Xn(e){let t=e+1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function qo(e){let t=0,n=0,r=0;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return r}var Le=(e,t)=>{if(e===null)return Math.random();if(typeof e=="string")return Xn(qo(e));if(typeof e=="number")return Xn(e*1e10);throw new Error("random() argument must be a number or a string")},rn={};Tr(rn,{useTimelineSetFrame:()=>_r,useTimelinePosition:()=>Fe,usePlayingState:()=>Dr,persistCurrentFrame:()=>Vr,getInitialFrameState:()=>jr,getFrameForComposition:()=>Lr});var Fr=V.createContext(null),Q=()=>{const e=o.useContext(Fr),[t]=o.useState(()=>he());return e??t},Ze=o.createContext({compositions:[],folders:[],currentCompositionMetadata:null,canvasContent:null}),It=o.createContext({registerComposition:()=>{},unregisterComposition:()=>{},registerFolder:()=>{},unregisterFolder:()=>{},setCanvasContent:()=>{},updateCompositionDefaultProps:()=>{},onlyRenderComposition:null}),bn=o.createContext({props:{},updateProps:()=>{throw new Error("Not implemented")},resetUnsaved:()=>{throw new Error("Not implemented")}}),Mr=V.createRef(),Wo=V.createRef(),Ir=({children:e})=>{const[t,n]=V.useState({}),r=o.useCallback(({defaultProps:u,id:l,newProps:a})=>{n(c=>({...c,[l]:typeof a=="function"?a(c[l]??u):a}))},[]),i=o.useCallback(u=>{n(l=>{if(l[u]){const a={...l};return delete a[u],a}return l})},[]);o.useImperativeHandle(Mr,()=>({getProps:()=>t,setProps:n}),[t]);const s=o.useMemo(()=>({props:t,updateProps:r,resetUnsaved:i}),[t,i,r]);return d.jsx(bn.Provider,{value:s,children:e})},on=()=>"remotion_inputPropsOverride"+window.location.origin,$r=()=>{if(typeof localStorage>"u")return null;const e=localStorage.getItem(on());return e?JSON.parse(e):null},zo=e=>{if(!(typeof localStorage>"u")){if(e===null){localStorage.removeItem(on());return}localStorage.setItem(on(),JSON.stringify(e))}},sn="remotion-date:",an="remotion-file:",Yo=({data:e,indent:t,staticBase:n})=>{let r=!1,i=!1,s=!1,u=!1;try{return{serializedString:JSON.stringify(e,function(a,c){const m=this[a];return m instanceof Date?(r=!0,`${sn}${m.toISOString()}`):m instanceof Map?(s=!0,c):m instanceof Set?(u=!0,c):typeof m=="string"&&n!==null&&m.startsWith(n)?(i=!0,`${an}${m.replace(n+"/","")}`):c},t),customDateUsed:r,customFileUsed:i,mapUsed:s,setUsed:u}}catch(l){throw new Error("Could not serialize the passed input props to JSON: "+l.message)}},Ar=e=>JSON.parse(e,(t,n)=>typeof n=="string"&&n.startsWith(sn)?new Date(n.replace(sn,"")):typeof n=="string"&&n.startsWith(an)?`${window.remotion_staticBase}/${n.replace(an,"")}`:n),Jo=e=>Ar(Yo({data:e,indent:2,staticBase:window.remotion_staticBase}).serializedString),Ve=e=>he().isStudio?Jo(e):e,Zn=!1,Go=()=>{Zn||(Zn=!0,console.warn("Called `getInputProps()` on the server. This function is not available server-side and has returned an empty object."),console.warn("To hide this warning, don't call this function on the server:"),console.warn("  typeof window === 'undefined' ? {} : getInputProps()"))},Ko=()=>{if(typeof window>"u")return Go(),{};if(he().isPlayer)throw new Error("You cannot call `getInputProps()` from a <Player>. Instead, the props are available as React props from component that you passed as `component` prop.");const e=$r();if(e)return e;if(typeof window>"u"||typeof window.remotion_inputProps>"u")throw new Error("Cannot call `getInputProps()` - window.remotion_inputProps is not set. This API is only available if you are in the Studio, or while you are rendering server-side.");const t=window.remotion_inputProps;return t?Ar(t):{}};function Rt(e,t,n){if(typeof e!="number")throw new Error(`The "${t}" prop ${n} must be a number, but you passed a value of type ${typeof e}`);if(isNaN(e))throw new TypeError(`The "${t}" prop ${n} must not be NaN, but is NaN.`);if(!Number.isFinite(e))throw new TypeError(`The "${t}" prop ${n} must be finite, but is ${e}.`);if(e%1!==0)throw new TypeError(`The "${t}" prop ${n} must be an integer, but is ${e}.`);if(e<=0)throw new TypeError(`The "${t}" prop ${n} must be positive, but got ${e}.`)}function xn(e,t){const{allowFloats:n,component:r}=t;if(typeof e>"u")throw new Error(`The "durationInFrames" prop ${r} is missing.`);if(typeof e!="number")throw new Error(`The "durationInFrames" prop ${r} must be a number, but you passed a value of type ${typeof e}`);if(e<=0)throw new TypeError(`The "durationInFrames" prop ${r} must be positive, but got ${e}.`);if(!n&&e%1!==0)throw new TypeError(`The "durationInFrames" prop ${r} must be an integer, but got ${e}.`);if(!Number.isFinite(e))throw new TypeError(`The "durationInFrames" prop ${r} must be finite, but got ${e}.`)}function $t(e,t,n){if(typeof e!="number")throw new Error(`"fps" must be a number, but you passed a value of type ${typeof e} ${t}`);if(!Number.isFinite(e))throw new Error(`"fps" must be a finite, but you passed ${e} ${t}`);if(isNaN(e))throw new Error(`"fps" must not be NaN, but got ${e} ${t}`);if(e<=0)throw new TypeError(`"fps" must be positive, but got ${e} ${t}`)}var At=o.createContext(null),Xo=o.createRef(),Zo=e=>!!e.calculateMetadata,Nr="remotion.propsUpdatedExternally",Cn=e=>{const t=o.useContext(At),{props:n}=o.useContext(bn),{compositions:r,canvasContent:i,currentCompositionMetadata:s}=o.useContext(Ze),u=i?.type==="composition"?i.compositionId:null,l=e??u,a=r.find(f=>f.id===l),c=o.useMemo(()=>a?n[a.id]??{}:{},[n,a]),m=Q();return o.useMemo(()=>a?s?{type:"success",result:{...s,id:a.id,defaultProps:a.defaultProps??{}}}:Zo(a)?!t||!t[a.id]?null:t[a.id]:(xn(a.durationInFrames,{allowFloats:!1,component:`in <Composition id="${a.id}">`}),$t(a.fps,`in <Composition id="${a.id}">`),Rt(a.width,"width",`in <Composition id="${a.id}">`),Rt(a.height,"height",`in <Composition id="${a.id}">`),{type:"success",result:{width:a.width,height:a.height,fps:a.fps,id:a.id,durationInFrames:a.durationInFrames,defaultProps:a.defaultProps??{},props:{...a.defaultProps??{},...c??{},...typeof window>"u"||m.isPlayer||!window.remotion_inputProps?{}:Ko()??{}},defaultCodec:null,defaultOutName:null,defaultVideoImageFormat:null,defaultPixelFormat:null,defaultProResProfile:null}}):null,[a,t,s,c,m.isPlayer])},Nt=()=>{const{canvasContent:e,compositions:t,currentCompositionMetadata:n}=o.useContext(Ze),r=t.find(s=>e?.type==="composition"&&s.id===e.compositionId),i=Cn(r?.id??null);return o.useMemo(()=>!i||i.type==="error"||i.type==="loading"||!r?null:{...i.result,defaultProps:r.defaultProps??{},id:r.id,...n??{},component:r.component},[n,i,r])},En=()=>"remotion.time-all",Vr=e=>{localStorage.setItem(En(),JSON.stringify(e))},jr=()=>{const e=localStorage.getItem(En())??"{}";return JSON.parse(e)},Lr=e=>{const t=localStorage.getItem(En())??"{}",n=JSON.parse(t);return n[e]!==void 0?Number(n[e]):typeof window>"u"?0:window.remotion_initialFrame??0},Fe=()=>{const e=Nt(),t=o.useContext(fe),n=Q();if(!e)return typeof window>"u"?0:window.remotion_initialFrame??0;const r=t.frame[e.id]??(n.isPlayer?0:Lr(e.id));return Math.min(e.durationInFrames-1,r)},_r=()=>{const{setFrame:e}=o.useContext(Qe);return e},Dr=()=>{const{playing:e,imperativePlaying:t}=o.useContext(fe),{setPlaying:n}=o.useContext(Qe);return o.useMemo(()=>[e,n,t],[t,e,n])},Br=e=>{const t=e.stack??"";return t.startsWith("Error:")?t:`${e.message}
${t}`},Qo=e=>e instanceof Error?!0:!(e===null||typeof e!="object"||!("stack"in e)||typeof e.stack!="string"||!("message"in e)||typeof e.message!="string");function Sn(e,t){let n;throw Qo(t)?(n=t,n.stack||(n.stack=new Error(n.message).stack)):typeof t=="string"?n=Error(t):n=Error("Rendering was cancelled"),e&&(e.remotion_cancelledError=Br(n)),n}function Ge(e){return Sn(typeof window<"u"?window:void 0,e)}var ei=["trace","verbose","info","warn","error"],Qn=e=>ei.indexOf(e),Vt=(e,t)=>Qn(e)<=Qn(t),mt=({args:e,logLevel:t,tag:n})=>{const r=[...e];return he().isRendering&&!he().isClientSideRendering&&r.unshift(Symbol.for(`__remotion_level_${t}`)),n&&he().isRendering&&!he().isClientSideRendering&&r.unshift(Symbol.for(`__remotion_tag_${n}`)),r},ti=(e,...t)=>{if(Vt(e.logLevel,"verbose"))return console.debug(...mt({args:t,logLevel:"verbose",tag:e.tag}))},ni=(e,...t)=>{if(Vt(e.logLevel,"trace"))return console.debug(...mt({args:t,logLevel:"trace",tag:e.tag}))},ri=(e,...t)=>{if(Vt(e.logLevel,"info"))return console.log(...mt({args:t,logLevel:"info",tag:e.tag}))},oi=(e,...t)=>{if(Vt(e.logLevel,"warn"))return console.warn(...mt({args:t,logLevel:"warn",tag:e.tag}))},ii=(e,...t)=>console.error(...mt({args:t,logLevel:"error",tag:e.tag})),de={trace:ni,verbose:ti,info:ri,warn:oi,error:ii};typeof window<"u"&&(window.remotion_renderReady=!1,window.remotion_delayRenderTimeouts||(window.remotion_delayRenderTimeouts={}),window.remotion_delayRenderHandles=[]);var si="The delayRender was called:",ai="Retries left: ",ui="- Rendering the frame will be retried.",li="handle was cleared after",ci=3e4,di=({scope:e,environment:t,label:n,options:r})=>{if(typeof n!="string"&&n!==null)throw new Error("The label parameter of delayRender() must be a string or undefined, got: "+JSON.stringify(n));const i=Math.random();e.remotion_delayRenderHandles.push(i);const s=Error().stack?.replace(/^Error/g,"")??"";if(t.isRendering){const u=(r?.timeoutInMilliseconds??e.remotion_puppeteerTimeout??ci)-2e3,l=(r?.retries??0)-(e.remotion_attempt-1);e.remotion_delayRenderTimeouts[i]={label:n??null,startTime:Date.now(),timeout:setTimeout(()=>{const a=["A delayRender()",n?`"${n}"`:null,`was called but not cleared after ${u}ms. See https://remotion.dev/docs/timeout for help.`,l>0?ai+l:null,l>0?ui:null,si,s].filter(dt).join(" ");t.isClientSideRendering?e.remotion_cancelledError=Br(Error(a)):Sn(e,Error(a))},u)}}return e.remotion_renderReady=!1,i},fi=({scope:e,handle:t,environment:n,logLevel:r})=>{if(typeof t>"u")throw new TypeError("The continueRender() method must be called with a parameter that is the return value of delayRender(). No value was passed.");if(typeof t!="number")throw new TypeError("The parameter passed into continueRender() must be the return value of delayRender() which is a number. Got: "+JSON.stringify(t));e.remotion_delayRenderHandles=e.remotion_delayRenderHandles.filter(i=>{if(i===t){if(n.isRendering&&e!==void 0){if(!e.remotion_delayRenderTimeouts[t])return!1;const{label:s,startTime:u,timeout:l}=e.remotion_delayRenderTimeouts[t];clearTimeout(l);const a=[s?`"${s}"`:"A handle",li,`${Date.now()-u}ms`].filter(dt).join(" ");de.verbose({logLevel:r,tag:"delayRender()"},a),delete e.remotion_delayRenderTimeouts[t]}return!1}return!0}),e.remotion_delayRenderHandles.length===0&&(e.remotion_renderReady=!0)},_e=o.createContext({logLevel:"info",mountTime:0}),Me=()=>{const{logLevel:e}=o.useContext(_e);if(e===null)throw new Error("useLogLevel must be used within a LogLevelProvider");return e},pt=()=>{const{mountTime:e}=o.useContext(_e);if(e===null)throw new Error("useMountTime must be used within a LogLevelProvider");return e},Or=o.createContext(null),Ie=()=>{const e=Q(),t=o.useContext(Or)??(typeof window<"u"?window:void 0),n=Me(),r=o.useCallback((u,l)=>t?di({scope:t,environment:e,label:u??null,options:l??{}}):Math.random(),[e,t]),i=o.useCallback(u=>{t&&fi({scope:t,handle:u,environment:e,logLevel:n})},[e,n,t]),s=o.useCallback(u=>Sn(t??(typeof window<"u"?window:void 0),u),[t]);return{delayRender:r,continueRender:i,cancelRender:s}},Qe=o.createContext({setFrame:()=>{throw new Error("default")},setPlaying:()=>{throw new Error("default")}}),fe=o.createContext({frame:{},playing:!1,playbackRate:1,rootId:"",imperativePlaying:{current:!1},setPlaybackRate:()=>{throw new Error("default")},audioAndVideoTags:{current:[]}}),mi=({children:e,frameState:t})=>{const[n,r]=o.useState(!1),i=o.useRef(!1),[s,u]=o.useState(1),l=o.useRef([]),[a]=o.useState(()=>String(Le(null))),[c,m]=o.useState(()=>jr()),f=t??c,{delayRender:h,continueRender:p}=Ie();typeof window<"u"&&o.useLayoutEffect(()=>{window.remotion_setFrame=(y,b,S)=>{window.remotion_attempt=S;const C=h(`Setting the current frame to ${y}`);let v=!0;m(E=>(E[b]??window.remotion_initialFrame)===y?(v=!1,E):{...E,[b]:y}),v?requestAnimationFrame(()=>p(C)):p(C)},window.remotion_isPlayer=!1},[p,h]);const w=o.useMemo(()=>({frame:f,playing:n,imperativePlaying:i,rootId:a,playbackRate:s,setPlaybackRate:u,audioAndVideoTags:l}),[f,s,n,a]),g=o.useMemo(()=>({setFrame:m,setPlaying:r}),[]);return d.jsx(fe.Provider,{value:w,children:d.jsx(Qe.Provider,{value:g,children:e})})},ht=o.createContext({getNonce:()=>0}),Tn=()=>{const e=o.useContext(ht),[t,n]=o.useState(()=>e.getNonce()),r=o.useRef(e);return o.useEffect(()=>{r.current!==e&&(r.current=e,n(e.getNonce))},[e]),t},De=o.createContext(!1),un=({children:e})=>d.jsx(De.Provider,{value:!0,children:e}),jt=()=>{const e=o.useContext(Z),t=e?.width??null,n=e?.height??null,r=e?.durationInFrames??null,i=Nt();return o.useMemo(()=>{if(!i)return null;const{id:s,durationInFrames:u,fps:l,height:a,width:c,defaultProps:m,props:f,defaultCodec:h,defaultOutName:p,defaultVideoImageFormat:w,defaultPixelFormat:g,defaultProResProfile:y}=i;return{id:s,width:t??c,height:n??a,fps:l,durationInFrames:r??u,defaultProps:m,props:f,defaultCodec:h,defaultOutName:p,defaultVideoImageFormat:w,defaultPixelFormat:g,defaultProResProfile:y}},[r,n,t,i])},ue=()=>{const e=jt(),t=o.useContext(De),n=yn();if(!e)throw typeof window<"u"&&window.remotion_isPlayer||n?new Error(["No video config found. Likely reasons:","- You are probably calling useVideoConfig() from outside the component passed to <Player />. See https://www.remotion.dev/docs/player/examples for how to set up the Player correctly.","- You have multiple versions of Remotion installed which causes the React context to get lost."].join("-")):new Error("No video config found. You are probably calling useVideoConfig() from a component which has not been registered as a <Composition />. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions for more information.");if(!t)throw new Error("Called useVideoConfig() outside a Remotion composition.");return e},me=()=>{const e=o.useContext(De),t=Q();if(!e)throw t.isPlayer?new Error("useCurrentFrame can only be called inside a component that was passed to <Player>. See: https://www.remotion.dev/docs/player/examples"):new Error("useCurrentFrame() can only be called inside a component that was registered as a composition. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions");const n=Fe(),r=o.useContext(Z),i=r?r.cumulatedFrom+r.relativeFrom:0;return n-i},pi=({frame:e,children:t,active:n=!0})=>{const r=me(),i=ue();if(typeof e>"u")throw new Error("The <Freeze /> component requires a 'frame' prop, but none was passed.");if(typeof e!="number")throw new Error(`The 'frame' prop of <Freeze /> must be a number, but is of type ${typeof e}`);if(Number.isNaN(e))throw new Error("The 'frame' prop of <Freeze /> must be a real number, but it is NaN.");if(!Number.isFinite(e))throw new Error(`The 'frame' prop of <Freeze /> must be a finite number, but it is ${e}.`);const s=o.useMemo(()=>{if(typeof n=="boolean")return n;if(typeof n=="function")return n(r)},[n,r]),u=o.useContext(fe),l=o.useContext(Z),a=l?.relativeFrom??0,c=o.useMemo(()=>s?{...u,playing:!1,imperativePlaying:{current:!1},frame:{[i.id]:e+a}}:u,[s,u,i.id,e,a]),m=o.useMemo(()=>l?s?{...l,cumulatedFrom:0}:l:null,[l,s]);return d.jsx(fe.Provider,{value:c,children:d.jsx(Z.Provider,{value:m,children:t})})},hi=({from:e=0,durationInFrames:t=1/0,children:n,name:r,height:i,width:s,showInTimeline:u=!0,_remotionInternalLoopDisplay:l,_remotionInternalStack:a,_remotionInternalPremountDisplay:c,_remotionInternalPostmountDisplay:m,...f},h)=>{const{layout:p="absolute-fill"}=f,[w]=o.useState(()=>String(Math.random())),g=o.useContext(Z),{rootId:y}=o.useContext(fe),b=g?g.cumulatedFrom+g.relativeFrom:0,S=Tn();if(p!=="absolute-fill"&&p!=="none")throw new TypeError(`The layout prop of <Sequence /> expects either "absolute-fill" or "none", but you passed: ${p}`);if(p==="none"&&typeof f.style<"u")throw new TypeError('If layout="none", you may not pass a style.');if(typeof t!="number")throw new TypeError(`You passed to durationInFrames an argument of type ${typeof t}, but it must be a number.`);if(t<=0)throw new TypeError(`durationInFrames must be positive, but got ${t}`);if(typeof e!="number")throw new TypeError(`You passed to the "from" props of your <Sequence> an argument of type ${typeof e}, but it must be a number.`);if(!Number.isFinite(e))throw new TypeError(`The "from" prop of a sequence must be finite, but got ${e}.`);const C=Fe(),v=ue(),E=g?Math.min(g.durationInFrames-e,t):t,x=Math.max(0,Math.min(v.durationInFrames-e,E)),{registerSequence:T,unregisterSequence:R}=o.useContext(Xe),{hidden:P}=o.useContext(ft),F=o.useMemo(()=>g?.premounting||!!f._remotionInternalIsPremounting,[f._remotionInternalIsPremounting,g?.premounting]),N=o.useMemo(()=>g?.postmounting||!!f._remotionInternalIsPostmounting,[f._remotionInternalIsPostmounting,g?.postmounting]),j=o.useMemo(()=>({cumulatedFrom:b,relativeFrom:e,durationInFrames:x,parentFrom:g?.relativeFrom??0,id:w,height:i??g?.height??null,width:s??g?.width??null,premounting:F,postmounting:N,premountDisplay:c??null,postmountDisplay:m??null}),[b,e,x,g,w,i,s,F,N,c,m]),L=o.useMemo(()=>r??"",[r]),D=Q();o.useEffect(()=>{if(D.isStudio)return T({from:e,duration:x,id:w,displayName:L,parent:g?.id??null,type:"sequence",rootId:y,showInTimeline:u,nonce:S,loopDisplay:l,stack:a??null,premountDisplay:c??null,postmountDisplay:m??null}),()=>{R(w)}},[t,w,r,T,L,R,g?.id,x,y,e,u,S,l,a,c,m,D.isStudio]);const B=Math.ceil(b+e+t-1),k=C<b+e||C>B?null:n,$=f.layout==="none"?void 0:f.style,M=o.useMemo(()=>({flexDirection:void 0,...s?{width:s}:{},...i?{height:i}:{},...$??{}}),[i,$,s]);if(h!==null&&p==="none")throw new TypeError('It is not supported to pass both a `ref` and `layout="none"` to <Sequence />.');return P[w]??!1?null:d.jsx(Z.Provider,{value:j,children:k===null?null:f.layout==="none"?k:d.jsx(Ce,{ref:h,style:M,className:f.className,children:k})})},gi=o.forwardRef(hi),wi=(e,t)=>{const n=me();if(e.layout==="none")throw new Error('`<Sequence>` with `premountFor` and `postmountFor` props does not support layout="none"');const{style:r,from:i=0,durationInFrames:s=1/0,premountFor:u=0,postmountFor:l=0,styleWhilePremounted:a,styleWhilePostmounted:c,...m}=e,f=Math.ceil(i+s-1),h=n<i&&n>=i-u,p=n>f&&n<=f+l,w=h?i:p?i+s-1:0,g=h||p,y=o.useMemo(()=>({...r,opacity:h||p?0:1,pointerEvents:h||p?"none":r?.pointerEvents??void 0,...h?a:{},...p?c:{}}),[r,h,p,a,c]);return d.jsx(pi,{frame:w,active:g,children:d.jsx(xe,{ref:t,from:i,durationInFrames:s,style:y,_remotionInternalPremountDisplay:u,_remotionInternalPostmountDisplay:l,_remotionInternalIsPremounting:h,_remotionInternalIsPostmounting:p,...m})})},vi=o.forwardRef(wi),yi=(e,t)=>{const n=Q(),{fps:r}=ue();if(e.layout!=="none"&&!n.isRendering){const i=e.premountFor;if(i||e.postmountFor)return d.jsx(vi,{ref:t,...e,premountFor:i})}return d.jsx(gi,{...e,ref:t})},xe=o.forwardRef(yi),bi=(e,t,n)=>{switch(e){case"fill":return[0,0,t.width,t.height,0,0,n.width,n.height];case"contain":{const r=Math.min(n.width/t.width,n.height/t.height),i=(n.width-t.width*r)/2,s=(n.height-t.height*r)/2;return[0,0,t.width,t.height,i,s,t.width*r,t.height*r]}case"cover":{const r=Math.max(n.width/t.width,n.height/t.height),i=(n.width-t.width*r)/2,s=(n.height-t.height*r)/2;return[0,0,t.width,t.height,i,s,t.width*r,t.height*r]}default:throw new Error("Unknown fit: "+e)}},xi=({width:e,height:t,fit:n,className:r,style:i},s)=>{const u=o.useRef(null),l=o.useCallback(a=>{const c=u.current,m=e??a.displayWidth,f=t??a.displayHeight;if(!c)throw new Error("Canvas ref is not set");const h=u.current?.getContext("2d");if(!h)throw new Error("Could not get 2d context");c.width=m,c.height=f,h.drawImage(a,...bi(n,{height:a.displayHeight,width:a.displayWidth},{width:m,height:f}))},[n,t,e]);return o.useImperativeHandle(s,()=>({draw:l,getCanvas:()=>{if(!u.current)throw new Error("Canvas ref is not set");return u.current},clear:()=>{const a=u.current?.getContext("2d");if(!a)throw new Error("Could not get 2d context");a.clearRect(0,0,u.current.width,u.current.height)}}),[l]),d.jsx("canvas",{ref:u,className:r,style:i})},Ci=V.forwardRef(xi),Ei=5,er=({loopBehavior:e,durationFound:t,timeInSec:n})=>e==="loop"?t?n%t:n:Math.min(n,t||1/0),Si=async({resolvedSrc:e,signal:t,currentTime:n,initialLoopBehavior:r})=>{if(typeof ImageDecoder>"u")throw new Error("Your browser does not support the WebCodecs ImageDecoder API.");const i=await fetch(e,{signal:t}),{body:s}=i;if(!s)throw new Error("Got no body");const u=new ImageDecoder({data:s,type:i.headers.get("Content-Type")||"image/gif"});await u.completed;const{selectedTrack:l}=u.tracks;if(!l)throw new Error("No selected track");const a=[];let c=null;const m=async w=>{const g=a.find(b=>b.frameIndex===w);if(g&&g.frame)return g;const y=await u.decode({frameIndex:w,completeFramesOnly:!0});return g?g.frame=y.image:a.push({frame:y.image,frameIndex:w,timeInSeconds:y.image.timestamp/1e6}),{frame:y.image,frameIndex:w,timeInSeconds:y.image.timestamp/1e6}},f=w=>{const y=a.filter(b=>b.frame).sort((b,S)=>{const C=Math.abs(b.timeInSeconds-w),v=Math.abs(S.timeInSeconds-w);return C-v});for(let b=0;b<y.length;b++){if(b<Ei)continue;const S=y[b];S.frame=null}},h=async({timeInSec:w,loopBehavior:g})=>{const y=er({durationFound:c,loopBehavior:g,timeInSec:w}),S=a.filter(v=>v.timeInSeconds<=y).map(v=>v.frameIndex).reduce((v,E)=>Math.max(v,E),0);let C=S;for(;;){const v=await m(C);if(C++,!v.frame)throw new Error("No frame found");if(!v.frame.duration||(C===l.frameCount&&c===null&&(c=(v.frame.timestamp+v.frame.duration)/1e6),v.timeInSeconds>y||C===l.frameCount))break}l.frameCount-S<3&&g==="loop"&&await m(0),f(y)};return await h({timeInSec:n,loopBehavior:r}),await h({timeInSec:n,loopBehavior:r}),{getFrame:async(w,g)=>{if(c!==null&&w>c&&g==="clear-after-finish")return null;const y=er({loopBehavior:g,durationFound:c,timeInSec:w});await h({timeInSec:y,loopBehavior:g});const S=a.filter(C=>C.frame).reduce((C,v)=>{const E=Math.abs(C.timeInSeconds-y),x=Math.abs(v.timeInSeconds-y);return E<x?C:v});if(!S.frame)throw new Error("No frame found");return S},frameCount:l.frameCount}},Ti=e=>typeof window>"u"?e:new URL(e,window.origin).href;o.forwardRef(({src:e,width:t,height:n,onError:r,loopBehavior:i="loop",playbackRate:s=1,fit:u="fill",...l},a)=>{const c=o.useRef({isMounted:!0});o.useEffect(()=>{const{current:x}=c;return x.isMounted=!0,()=>{x.isMounted=!1}},[]);const m=Ti(e),[f,h]=o.useState(null),{delayRender:p,continueRender:w}=Ie(),[g]=o.useState(()=>p(`Rendering <AnimatedImage/> with src="${m}"`)),y=me(),{fps:b}=ue(),S=y/s/b,C=o.useRef(S);C.current=S;const v=o.useRef(null);o.useImperativeHandle(a,()=>{const x=v.current?.getCanvas();if(!x)throw new Error("Canvas ref is not set");return x},[]);const[E]=o.useState(()=>i);return o.useEffect(()=>{const x=new AbortController;return Si({resolvedSrc:m,signal:x.signal,currentTime:C.current,initialLoopBehavior:E}).then(T=>{h(T),w(g)}).catch(T=>{if(T.name==="AbortError"){w(g);return}r?(r?.(T),w(g)):Ge(T)}),()=>{x.abort()}},[m,g,r,E,w]),o.useLayoutEffect(()=>{if(!f)return;const x=p(`Rendering frame at ${S} of <AnimatedImage src="${e}"/>`);f.getFrame(S,i).then(T=>{c.current.isMounted&&(T===null?v.current?.clear():v.current?.draw(T.frame)),w(x)}).catch(T=>{r?(r(T),w(x)):Ge(T)})},[S,f,i,r,e,w,p]),d.jsx(Ci,{ref:v,width:t,height:n,fit:u,...l})});var Ri=e=>{if(typeof e!="string")throw new TypeError(`The "filename" must be a string, but you passed a value of type ${typeof e}`);if(e.trim()==="")throw new Error("The `filename` must not be empty");if(!e.match(/^([0-9a-zA-Z-!_.*'()/:&$@=;+,?]+)/g))throw new Error('The `filename` must match "/^([0-9a-zA-Z-!_.*\'()/:&$@=;+,?]+)/g". Use forward slashes only, even on Windows.')},Pi=e=>{if(typeof e!="string"&&!(e instanceof Uint8Array))throw new TypeError(`The "content" must be a string or Uint8Array, but you passed a value of type ${typeof e}`);if(typeof e=="string"&&e.trim()==="")throw new Error("The `content` must not be empty")},Ur=e=>{e.type==="artifact"&&(Ri(e.filename),e.contentType!=="thumbnail"&&Pi(e.content))},Be=o.createContext({registerRenderAsset:()=>{},unregisterRenderAsset:()=>{},renderAssets:[]}),ki=({children:e,collectAssets:t})=>{const[n,r]=o.useState([]),i=o.useRef([]),s=o.useCallback(a=>{Ur(a),i.current=[...i.current,a],r(i.current)},[]);t&&o.useImperativeHandle(t,()=>({collectAssets:()=>{const a=i.current;return i.current=[],r([]),a}}),[]);const u=o.useCallback(a=>{i.current=i.current.filter(c=>c.id!==a),r(i.current)},[]);o.useLayoutEffect(()=>{typeof window<"u"&&(window.remotion_collectAssets=()=>{const a=i.current;return i.current=[],r([]),a})},[]);const l=o.useMemo(()=>({registerRenderAsset:s,unregisterRenderAsset:u,renderAssets:n}),[n,s,u]);return d.jsx(Be.Provider,{value:l,children:e})},ve=e=>typeof window>"u"||e.startsWith("http://")||e.startsWith("https://")||e.startsWith("file://")||e.startsWith("blob:")||e.startsWith("data:")?e:new URL(e,window.origin).href,Lt=({trimAfter:e,mediaDurationInFrames:t,playbackRate:n,trimBefore:r})=>{let i=t;typeof e<"u"&&(i=e),typeof r<"u"&&(i-=r);const s=i/n;return Math.floor(s)},Hr=o.createContext(null),Fi=()=>V.useContext(Hr),_t=({durationInFrames:e,times:t=1/0,children:n,name:r,...i})=>{const s=me(),{durationInFrames:u}=ue();if(xn(e,{component:"of the <Loop /> component",allowFloats:!0}),typeof t!="number")throw new TypeError(`You passed to "times" an argument of type ${typeof t}, but it must be a number.`);if(t!==1/0&&t%1!==0)throw new TypeError(`The "times" prop of a loop must be an integer, but got ${t}.`);if(t<0)throw new TypeError(`The "times" prop of a loop must be at least 0, but got ${t}`);const l=Math.ceil(u/e),a=Math.min(l,t),c=i.layout==="none"?void 0:i.style,m=e*(a-1),h=Math.floor(s/e)*e,p=Math.min(h,m),w=o.useMemo(()=>({numberOfTimes:Math.min(u/e,t),startOffset:-p,durationInFrames:e}),[u,e,p,t]),g=o.useMemo(()=>({iteration:Math.floor(s/e),durationInFrames:e}),[s,e]);return d.jsx(Hr.Provider,{value:g,children:d.jsx(xe,{durationInFrames:e,from:p,name:r??"<Loop>",_remotionInternalLoopDisplay:w,layout:i.layout,style:c,children:n})})};_t.useLoop=Fi;var re=({logLevel:e,tag:t,message:n,mountTime:r})=>{const i=[r?Date.now()-r+"ms ":null,t].filter(Boolean).join(" ");de.trace({logLevel:e,tag:null},`[${i}]`,n)},Dt=o.createContext({}),tr={},Gt=[],qr=({children:e})=>{const[t,n]=o.useState(()=>tr);return o.useEffect(()=>{const r=()=>{n(tr)};return Gt.push(r),()=>{Gt=Gt.filter(i=>i!==r)}},[]),d.jsx(Dt.Provider,{value:t,children:e})},Wr=e=>{const t=e.indexOf("#");return t===-1?null:t},Mi=e=>{const t=Wr(e);return t===null?e:e.slice(0,t)},et=e=>{const t=o.useContext(Dt),n=Wr(e),r=Mi(e);return t[r]?n!==null?t[r]+e.slice(n):t[r]:e},Bt=(e,t)=>{if(typeof e.volume!="number"&&typeof e.volume!="function"&&typeof e.volume<"u")throw new TypeError(`You have passed a volume of type ${typeof e.volume} to your <${t} /> component. Volume must be a number or a function with the signature '(frame: number) => number' undefined.`);if(typeof e.volume=="number"&&e.volume<0)throw new TypeError(`You have passed a volume below 0 to your <${t} /> component. Volume must be between 0 and 1`);if(typeof e.playbackRate!="number"&&typeof e.playbackRate<"u")throw new TypeError(`You have passed a playbackRate of type ${typeof e.playbackRate} to your <${t} /> component. Playback rate must a real number or undefined.`);if(typeof e.playbackRate=="number"&&(isNaN(e.playbackRate)||!Number.isFinite(e.playbackRate)||e.playbackRate<=0))throw new TypeError(`You have passed a playbackRate of ${e.playbackRate} to your <${t} /> component. Playback rate must be a real number above 0.`)},Ii=(e,t)=>{if(typeof e<"u"){if(typeof e!="number")throw new TypeError(`type of startFrom prop must be a number, instead got type ${typeof e}.`);if(isNaN(e)||e===1/0)throw new TypeError("startFrom prop can not be NaN or Infinity.");if(e<0)throw new TypeError(`startFrom must be greater than equal to 0 instead got ${e}.`)}if(typeof t<"u"){if(typeof t!="number")throw new TypeError(`type of endAt prop must be a number, instead got type ${typeof t}.`);if(isNaN(t))throw new TypeError("endAt prop can not be NaN.");if(t<=0)throw new TypeError(`endAt must be a positive number, instead got ${t}.`)}if(t<e)throw new TypeError("endAt prop must be greater than startFrom prop.")},$i=(e,t)=>{if(typeof e<"u"){if(typeof e!="number")throw new TypeError(`type of trimBefore prop must be a number, instead got type ${typeof e}.`);if(isNaN(e)||e===1/0)throw new TypeError("trimBefore prop can not be NaN or Infinity.");if(e<0)throw new TypeError(`trimBefore must be greater than equal to 0 instead got ${e}.`)}if(typeof t<"u"){if(typeof t!="number")throw new TypeError(`type of trimAfter prop must be a number, instead got type ${typeof t}.`);if(isNaN(t))throw new TypeError("trimAfter prop can not be NaN.");if(t<=0)throw new TypeError(`trimAfter must be a positive number, instead got ${t}.`)}if(t<=e)throw new TypeError("trimAfter prop must be greater than trimBefore prop.")},Ot=({startFrom:e,endAt:t,trimBefore:n,trimAfter:r})=>{if(typeof e<"u"&&typeof n<"u")throw new TypeError("Cannot use both startFrom and trimBefore props. Use trimBefore instead as startFrom is deprecated.");if(typeof t<"u"&&typeof r<"u")throw new TypeError("Cannot use both endAt and trimAfter props. Use trimAfter instead as endAt is deprecated.");typeof n<"u"||typeof r<"u"?$i(n,r):(typeof e<"u"||typeof t<"u")&&Ii(e,t)},Ut=({startFrom:e,endAt:t,trimBefore:n,trimAfter:r})=>({trimBeforeValue:n??e??void 0,trimAfterValue:r??t??void 0}),Ai=(e,t)=>{if(t.type==="got-duration"){const n=ve(t.src);return e[n]===t.durationInSeconds?e:{...e,[n]:t.durationInSeconds}}else return e},Rn=o.createContext({durations:{},setDurations:()=>{throw new Error("context missing")}}),zr=({children:e})=>{const[t,n]=o.useReducer(Ai,{}),r=o.useMemo(()=>({durations:t,setDurations:n}),[t]);return d.jsx(Rn.Provider,{value:r,children:e})},Pn=({crossOrigin:e,requestsVideoFrame:t,isClientSideRendering:n})=>{if(e!=null)return e;if(n||t)return"anonymous"},Pt=({mediaRef:e,mediaType:t,onAutoPlayError:n,logLevel:r,mountTime:i,reason:s,isPlayer:u})=>{const{current:l}=e;if(!l)return;re({logLevel:r,tag:"play",message:`Attempting to play ${l.src}. Reason: ${s}`,mountTime:i});const a=l.play();a.catch&&a.catch(c=>{if(l&&!c.message.includes("request was interrupted by a call to pause")&&!c.message.includes("The operation was aborted.")&&!c.message.includes("The fetching process for the media resource was aborted by the user agent")&&!c.message.includes("request was interrupted by a new load request")&&!c.message.includes("because the media was removed from the document")&&!(c.message.includes("user didn't interact with the document")&&l.muted)&&(console.log(`Could not play ${t} due to following error: `,c),!l.muted)){if(n){n();return}t==="video"&&u&&(de.info({logLevel:r,tag:"<"+t+">"},"The video will be muted and we'll retry playing it."),de.info({logLevel:r,tag:"<"+t+">"},"Use onAutoPlayError() to handle this error yourself."),l.muted=!0,l.play())}})},kn=({audioContext:e,ref:t})=>{let n=null,r=!1;return{attemptToConnect:()=>{if(r)throw new Error("SharedElementSourceNode has been disposed");!n&&t.current&&(n=e.createMediaElementSource(t.current))},get:()=>{if(!n)throw new Error("Audio element not connected");return n},cleanup:()=>{n&&(n.disconnect(),n=null),r=!0}}},nr=!1,Ni=e=>{nr||(nr=!0,typeof window<"u"&&de.warn({logLevel:e,tag:null},"AudioContext is not supported in this browser"))},Vi=({logLevel:e,latencyHint:t,audioEnabled:n})=>{const r=Q();return o.useMemo(()=>r.isRendering||!n?null:typeof AudioContext>"u"?(Ni(e),null):new AudioContext({latencyHint:t,sampleRate:48e3}),[e,t,r.isRendering,n])},rr="data:audio/mp3;base64,/+MYxAAJcAV8AAgAABn//////+/gQ5BAMA+D4Pg+BAQBAEAwD4Pg+D4EBAEAQDAPg++hYBH///hUFQVBUFREDQNHmf///////+MYxBUGkAGIMAAAAP/29Xt6lUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxDUAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",ji=(e,t)=>{const n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==r[i]||e[n[i]]!==t[r[i]])return!1;return!0},Li=(e,t,n)=>e==="src"&&!n.startsWith("data:")&&!t.startsWith("data:")?new URL(n,window.origin).toString()!==new URL(t,window.origin).toString():n!==t,tt=o.createContext(null),Yr=({children:e,numberOfAudioTags:t,audioLatencyHint:n,audioEnabled:r})=>{const i=o.useRef([]),[s]=o.useState(t);if(t!==s)throw new Error("The number of shared audio tags has changed dynamically. Once you have set this property, you cannot change it afterwards.");const u=Me(),l=Vi({logLevel:u,latencyHint:n,audioEnabled:r}),a=o.useMemo(()=>new Array(t).fill(!0).map(()=>{const C=o.createRef();return{id:Math.random(),ref:C,mediaElementSourceNode:l?kn({audioContext:l,ref:C}):null}}),[l,t]);(V.useInsertionEffect??V.useLayoutEffect)(()=>()=>{requestAnimationFrame(()=>{a.forEach(({mediaElementSourceNode:C})=>{C?.cleanup()})})},[a]);const m=o.useRef(new Array(t).fill(!1)),f=o.useCallback(()=>{a.forEach(({ref:C,id:v})=>{const E=i.current?.find(T=>T.id===v),{current:x}=C;if(x){if(E===void 0){x.src=rr;return}if(!E)throw new TypeError("Expected audio data to be there");Object.keys(E.props).forEach(T=>{Li(T,E.props[T],x[T])&&(x[T]=E.props[T])})}})},[a]),h=o.useCallback(C=>{const{aud:v,audioId:E,premounting:x,postmounting:T}=C,R=i.current?.find(B=>B.audioId===E);if(R)return R;const P=m.current.findIndex(B=>B===!1);if(P===-1)throw new Error(`Tried to simultaneously mount ${t+1} <Html5Audio /> tags at the same time. With the current settings, the maximum amount of <Html5Audio /> tags is limited to ${t} at the same time. Remotion pre-mounts silent audio tags to help avoid browser autoplay restrictions. See https://remotion.dev/docs/player/autoplay#using-the-numberofsharedaudiotags-prop for more information on how to increase this limit.`);const{id:F,ref:N,mediaElementSourceNode:j}=a[P],L=[...m.current];L[P]=F,m.current=L;const D={props:v,id:F,el:N,audioId:E,mediaElementSourceNode:j,premounting:x,audioMounted:!!N.current,postmounting:T,cleanupOnMediaTagUnmount:()=>{}};return i.current?.push(D),f(),D},[t,a,f]),p=o.useCallback(C=>{const v=[...m.current],E=a.findIndex(x=>x.id===C);if(E===-1)throw new TypeError("Error occured in ");v[E]=!1,m.current=v,i.current=i.current?.filter(x=>x.id!==C),f()},[a,f]),w=o.useCallback(({aud:C,audioId:v,id:E,premounting:x,postmounting:T})=>{let R=!1;i.current=i.current?.map(P=>{const F=!!P.el.current;return P.audioMounted!==F&&(R=!0),P.id===E?ji(C,P.props)&&P.premounting===x&&P.postmounting===T?P:(R=!0,{...P,props:C,premounting:x,postmounting:T,audioId:v,audioMounted:F}):P}),R&&f()},[f]),g=pt(),y=Q(),b=o.useCallback(()=>{a.forEach(C=>{i.current.find(E=>E.el===C.ref)?.premounting||Pt({mediaRef:C.ref,mediaType:"audio",onAutoPlayError:null,logLevel:u,mountTime:g,reason:"playing all audios",isPlayer:y.isPlayer})}),l?.resume()},[l,u,g,a,y.isPlayer]),S=o.useMemo(()=>({registerAudio:h,unregisterAudio:p,updateAudio:w,playAllAudios:b,numberOfAudioTags:t,audioContext:l}),[t,b,h,p,w,l]);return d.jsxs(tt.Provider,{value:S,children:[a.map(({id:C,ref:v})=>d.jsx("audio",{ref:v,preload:"metadata",src:rr},C)),e]})},_i=({aud:e,audioId:t,premounting:n,postmounting:r})=>{const i=o.useContext(tt),[s]=o.useState(()=>{if(i&&i.numberOfAudioTags>0)return i.registerAudio({aud:e,audioId:t,premounting:n,postmounting:r});const l=V.createRef(),a=i?.audioContext?kn({audioContext:i.audioContext,ref:l}):null;return{el:l,id:Math.random(),props:e,audioId:t,mediaElementSourceNode:a,premounting:n,audioMounted:!!l.current,postmounting:r,cleanupOnMediaTagUnmount:()=>{a?.cleanup()}}}),u=V.useInsertionEffect??V.useLayoutEffect;return typeof document<"u"&&(u(()=>{i&&i.numberOfAudioTags>0&&i.updateAudio({id:s.id,aud:e,audioId:t,premounting:n,postmounting:r})},[e,i,s.id,t,n,r]),u(()=>()=>{i&&i.numberOfAudioTags>0&&i.unregisterAudio(s.id)},[i,s.id])),s},Di=1e-5,kt=(e,t)=>Math.abs(e-t)<Di,Jr=(e,t)=>Math.round(e/t*100)/100,ln=()=>typeof window>"u"||!/AppleWebKit/.test(window.navigator.userAgent)?!1:!window.navigator.userAgent.includes("Chrome/"),Ht=()=>typeof window>"u"?!1:/iP(ad|od|hone)/i.test(window.navigator.userAgent)&&ln(),Bi=e=>Ht()&&e.startsWith("blob:"),cn=({actualFrom:e,fps:t})=>Jr(Math.max(0,-e),t),dn=({duration:e,fps:t})=>Jr(e,t),Oi=({actualSrc:e,actualFrom:t,duration:n,fps:r})=>{if(Bi(e)||e.startsWith("data:")||!!new URL(e,(typeof window>"u"?null:window.location.href)??"http://localhost:3000").hash||!Number.isFinite(t))return e;const s=`${e}#t=${cn({actualFrom:t,fps:r})}`;return Number.isFinite(n)?`${s},${dn({duration:n,fps:r})}`:s},Ui=({prevStartFrom:e,newStartFrom:t,prevDuration:n,newDuration:r,fps:i})=>{const s=cn({actualFrom:e,fps:i}),u=cn({actualFrom:t,fps:i}),l=dn({duration:n,fps:i}),a=dn({duration:r,fps:i});return!(u<s||a>l)},Hi=({actualSrc:e,actualFrom:t,duration:n,fps:r})=>{const i=o.useRef(t),s=o.useRef(n),u=o.useRef(e);return(!Ui({prevStartFrom:i.current,newStartFrom:t,prevDuration:s.current,newDuration:n,fps:r})||e!==u.current)&&(i.current=t,s.current=n,u.current=e),Oi({actualSrc:u.current,actualFrom:i.current,duration:s.current,fps:r})},or=!1,qi=e=>{or||(or=!0,de.warn({logLevel:e,tag:null},"In Safari, setting a volume and a playback rate at the same time is buggy."),de.warn({logLevel:e,tag:null},"In Desktop Safari, only volumes <= 1 will be applied."),de.warn({logLevel:e,tag:null},e,"In Mobile Safari, the volume will be ignored and set to 1 if a playbackRate is set."))},Gr=({mediaRef:e,volume:t,logLevel:n,source:r,shouldUseWebAudioApi:i})=>{const s=o.useRef(null),u=o.useRef(t);u.current=t;const l=o.useContext(tt);if(!l)throw new Error("useAmplification must be used within a SharedAudioContext");const{audioContext:a}=l;if(typeof window<"u"&&o.useLayoutEffect(()=>{if(!a||!e.current||!i)return;if(e.current.playbackRate!==1&&ln()){qi(n);return}if(!r)return;const f=new GainNode(a,{gain:u.current});return r.attemptToConnect(),r.get().connect(f),f.connect(a.destination),s.current={gainNode:f},de.trace({logLevel:n,tag:null},`Starting to amplify ${e.current?.src}. Gain = ${u.current}, playbackRate = ${e.current?.playbackRate}`),()=>{s.current=null,f.disconnect(),r.get().disconnect()}},[n,e,a,r,i]),s.current){const f=t;kt(s.current.gainNode.gain.value,f)||(s.current.gainNode.gain.value=f,de.trace({logLevel:n,tag:null},`Setting gain to ${f} for ${e.current?.src}`))}return(ln()&&e.current&&e.current?.playbackRate!==1||!i)&&e.current&&!kt(t,e.current?.volume)&&(e.current.volume=Math.min(t,1)),s},Oe=()=>{const e=o.useContext(Z);return Math.min(0,e?.relativeFrom??0)},nt=e=>{const t=_t.useLoop(),n=me(),r=Oe();return e==="repeat"||t===null?n+r:n+r+t.durationInFrames*t.iteration},Wi=e=>{if(/data:|blob:/.test(e.substring(0,5)))return"Data URL";const t=e.split("/").map(n=>n.split("\\")).flat(1);return t[t.length-1]},Ue=({frame:e,volume:t,mediaVolume:n=1})=>{if(typeof t=="number")return t*n;if(typeof t>"u")return Number(n);const r=t(e)*n;if(typeof r!="number")throw new TypeError(`You passed in a a function to the volume prop but it did not return a number but a value of type ${typeof r} for frame ${e}`);if(Number.isNaN(r))throw new TypeError(`You passed in a function to the volume prop but it returned NaN for frame ${e}.`);if(!Number.isFinite(r))throw new TypeError(`You passed in a function to the volume prop but it returned a non-finite number for frame ${e}.`);return Math.max(0,r)},ir={},zi=e=>{ir[e]||(console.warn(e),ir[e]=!0)},Kr=({volume:e,mediaVolume:t,mediaType:n,src:r,displayName:i,trimBefore:s,trimAfter:u,playbackRate:l})=>{if(!r)throw new Error("No src passed");const a=Oe(),c=o.useContext(Z),m=ue(),[f]=o.useState(()=>e),h=Lt({mediaDurationInFrames:m.durationInFrames,playbackRate:l,trimBefore:s,trimAfter:u}),p=c?Math.min(c.durationInFrames,h):h,w=o.useMemo(()=>typeof e=="number"?e:new Array(Math.floor(Math.max(0,p+a))).fill(!0).map((C,v)=>Ue({frame:v+a,volume:e,mediaVolume:t})).join(","),[p,a,e,t]);o.useEffect(()=>{typeof e=="number"&&e!==f&&zi(`Remotion: The ${n} with src ${r} has changed it's volume. Prefer the callback syntax for setting volume to get better timeline display: https://www.remotion.dev/docs/audio/volume`)},[f,n,r,e]);const g=typeof e=="function",y=Tn(),{rootId:b}=o.useContext(fe),S=Q();return{volumes:w,duration:p,doesVolumeChange:g,nonce:y,rootId:b,isStudio:S.isStudio,finalDisplayName:i??Wi(r)}},Fn=({volume:e,mediaVolume:t,src:n,mediaType:r,playbackRate:i,displayName:s,id:u,stack:l,showInTimeline:a,premountDisplay:c,postmountDisplay:m,loopDisplay:f})=>{const h=o.useContext(Z),p=Oe(),{registerSequence:w,unregisterSequence:g}=o.useContext(Xe),{volumes:y,duration:b,doesVolumeChange:S,nonce:C,rootId:v,isStudio:E,finalDisplayName:x}=Kr({volume:e,mediaVolume:t,mediaType:r,src:n,displayName:s,trimAfter:void 0,trimBefore:void 0,playbackRate:i});o.useEffect(()=>{if(!n)throw new Error("No src passed");if(!(!E&&window.process?.env?.NODE_ENV!=="test")&&a)return w({type:r,src:n,id:u,duration:b,from:0,parent:h?.id??null,displayName:x,rootId:v,volume:y,showInTimeline:!0,nonce:C,startMediaFrom:0-p,doesVolumeChange:S,loopDisplay:f,playbackRate:i,stack:l,premountDisplay:c,postmountDisplay:m}),()=>{g(u)}},[b,u,h,n,w,g,y,S,C,r,p,i,l,a,c,m,E,f,v,x])},Yi=(e,t)=>{const[n,r]=o.useState([]),[i,s]=o.useState([]),[u,l]=o.useState([]),c=Q().isRendering,m=o.useRef(!1),f=o.useCallback(w=>c?{unblock:()=>{}}:(r(g=>[...g,w]),{unblock:()=>{r(g=>{const y=g.filter(b=>b!==w);return y.length===g.length?g:y})}}),[c]),h=o.useCallback(w=>(s(g=>[...g,w]),{remove:()=>{s(g=>g.filter(y=>y!==w))}}),[]),p=o.useCallback(w=>(l(g=>[...g,w]),{remove:()=>{l(g=>g.filter(y=>y!==w))}}),[]);return o.useEffect(()=>{c||n.length>0&&(i.forEach(w=>w()),re({logLevel:e,message:"Player is entering buffer state",mountTime:t,tag:"player"}))},[n]),typeof window<"u"&&o.useLayoutEffect(()=>{c||n.length===0&&(u.forEach(w=>w()),re({logLevel:e,message:"Player is exiting buffer state",mountTime:t,tag:"player"}))},[n]),o.useMemo(()=>({addBlock:f,listenForBuffering:h,listenForResume:p,buffering:m}),[f,m,h,p])},rt=V.createContext(null),Xr=({children:e})=>{const{logLevel:t,mountTime:n}=o.useContext(_e),r=Yi(t??"info",n);return d.jsx(rt.Provider,{value:r,children:e})},Zr=e=>{const[t,n]=o.useState(e.buffering.current);return o.useEffect(()=>{const r=()=>{n(!0)},i=()=>{n(!1)};return e.listenForBuffering(r),e.listenForResume(i),()=>{e.listenForBuffering(()=>{}),e.listenForResume(()=>{})}},[e]),t},Mn=()=>{const e=o.useContext(rt),t=e?e.addBlock:null;return o.useMemo(()=>({delayPlayback:()=>{if(!t)throw new Error("Tried to enable the buffering state, but a Remotion context was not found. This API can only be called in a component that was passed to the Remotion Player or a <Composition>. Or you might have experienced a version mismatch - run `npx remotion versions` and ensure all packages have the same version. This error is thrown by the buffer state https://remotion.dev/docs/player/buffer-state");const{unblock:n}=t({id:String(Math.random())});return{unblock:n}}}),[t])},Ji=()=>/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent),Gi=({mediaRef:e,mediaType:t,onVariableFpsVideoDetected:n,pauseWhenBuffering:r,logLevel:i,mountTime:s})=>{const u=o.useRef(!1),{delayPlayback:l}=Mn(),a=o.useCallback(c=>{if(t!=="video"||!r)return;const m=e.current;if(!m)return;if(m.readyState>=m.HAVE_FUTURE_DATA&&!Ji()){re({logLevel:i,message:`Not using buffer until first frame, because readyState is ${m.readyState} and is not Safari or Desktop Chrome`,mountTime:s,tag:"buffer"});return}if(!m.requestVideoFrameCallback){re({logLevel:i,message:"Not using buffer until first frame, because requestVideoFrameCallback is not supported",mountTime:s,tag:"buffer"});return}u.current=!0,re({logLevel:i,message:`Buffering ${e.current?.src} until the first frame is received`,mountTime:s,tag:"buffer"});const f=l(),h=()=>{f.unblock(),m.removeEventListener("ended",h,{once:!0}),m.removeEventListener("pause",h,{once:!0}),u.current=!1},p=()=>{h()};m.requestVideoFrameCallback((w,g)=>{Math.abs(g.mediaTime-c)>.5&&n(),h()}),m.addEventListener("ended",p,{once:!0}),m.addEventListener("pause",p,{once:!0}),m.addEventListener("canplay",p,{once:!0})},[l,i,e,t,s,n,r]);return o.useMemo(()=>({isBuffering:()=>u.current,bufferUntilFirstFrame:a}),[a])},Ki=e=>{const t=V.useRef({time:e.current?.currentTime??0,lastUpdate:performance.now()}),n=e.current?.currentTime??null;return n!==null&&t.current.time!==n&&(t.current.time=n,t.current.lastUpdate=performance.now()),t},xt=({mediaRef:e,time:t,logLevel:n,why:r,mountTime:i})=>{const s=Ht()?Number(t.toFixed(1)):t;return re({logLevel:n,tag:"seek",message:`Seeking from ${e.currentTime} to ${s}. src= ${e.src} Reason: ${r}`,mountTime:i}),e.currentTime=s,s},Xi=({element:e,shouldBuffer:t,isPremounting:n,isPostmounting:r,logLevel:i,mountTime:s,src:u})=>{const l=Mn(),[a,c]=o.useState(!1);return o.useEffect(()=>{let m=[];const{current:f}=e;if(!f||!t)return;if(n||r){if((n||r)&&f.readyState<f.HAVE_FUTURE_DATA&&!navigator.userAgent.includes("Firefox/")){re({logLevel:i,message:`Calling .load() on ${f.src} because readyState is ${f.readyState} and it is not Firefox. Element is premounted ${f.playbackRate}`,tag:"load",mountTime:s});const g=f.playbackRate;f.load(),f.playbackRate=g}return}const h=g=>{let y=!1;m.forEach(b=>{b(g),y=!0}),m=[],c(b=>(b&&(y=!0),!1)),y&&re({logLevel:i,message:`Unmarking as buffering: ${f.src}. Reason: ${g}`,tag:"buffer",mountTime:s})},p=g=>{c(!0),re({logLevel:i,message:`Marking as buffering: ${f.src}. Reason: ${g}`,tag:"buffer",mountTime:s});const{unblock:y}=l.delayPlayback(),b=()=>{h('"canplay" was fired'),w()},S=()=>{h('"error" event was occurred'),w()};f.addEventListener("canplay",b,{once:!0}),m.push(()=>{f.removeEventListener("canplay",b)}),f.addEventListener("error",S,{once:!0}),m.push(()=>{f.removeEventListener("error",S)}),m.push(C=>{re({logLevel:i,message:`Unblocking ${f.src} from buffer. Reason: ${C}`,tag:"buffer",mountTime:s}),y()})},w=()=>{if(f.readyState<f.HAVE_FUTURE_DATA){if(p(`readyState is ${f.readyState}, which is less than HAVE_FUTURE_DATA`),!navigator.userAgent.includes("Firefox/")){re({logLevel:i,message:`Calling .load() on ${u} because readyState is ${f.readyState} and it is not Firefox. ${f.playbackRate}`,tag:"load",mountTime:s});const g=f.playbackRate;f.load(),f.playbackRate=g}}else{const g=()=>{p('"waiting" event was fired')};f.addEventListener("waiting",g),m.push(()=>{f.removeEventListener("waiting",g)})}};return w(),()=>{h("element was unmounted or prop changed")}},[l,u,e,n,r,i,t,s]),a},Zi=({mediaRef:e,mediaType:t,lastSeek:n,onVariableFpsVideoDetected:r})=>{const i=o.useRef(null);return o.useEffect(()=>{const{current:s}=e;if(s)i.current={time:s.currentTime,lastUpdate:performance.now()};else{i.current=null;return}if(t!=="video"){i.current=null;return}const u=s;if(!u.requestVideoFrameCallback)return;let l=()=>{};const a=()=>{if(!u)return;const c=u.requestVideoFrameCallback((m,f)=>{if(i.current!==null){const h=Math.abs(i.current.time-f.mediaTime),p=Math.abs(n.current===null?1/0:f.mediaTime-n.current);h>.5&&p>.5&&f.mediaTime>i.current.time&&r()}i.current={time:f.mediaTime,lastUpdate:performance.now()},a()});l=()=>{u.cancelVideoFrameCallback(c),l=()=>{}}};return a(),()=>{l()}},[n,e,t,r]),i};function Qi(e,t,n,r){const{extrapolateLeft:i,extrapolateRight:s,easing:u}=r;let l=e;const[a,c]=t,[m,f]=n;if(l<a){if(i==="identity")return l;if(i==="clamp")l=a;else if(i==="wrap"){const h=c-a;l=((l-a)%h+h)%h+a}}if(l>c){if(s==="identity")return l;if(s==="clamp")l=c;else if(s==="wrap"){const h=c-a;l=((l-a)%h+h)%h+a}}return m===f?m:(l=(l-a)/(c-a),l=u(l),l=l*(f-m)+m,l)}function es(e,t){let n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}function ts(e){for(let t=1;t<e.length;++t)if(!(e[t]>e[t-1]))throw new Error(`inputRange must be strictly monotonically increasing but got [${e.join(",")}]`)}function sr(e,t){if(t.length<2)throw new Error(e+" must have at least 2 elements");for(const n of t){if(typeof n!="number")throw new Error(`${e} must contain only numbers`);if(!Number.isFinite(n))throw new Error(`${e} must contain only finite numbers, but got [${t.join(",")}]`)}}function ce(e,t,n,r){if(typeof e>"u")throw new Error("input can not be undefined");if(typeof t>"u")throw new Error("inputRange can not be undefined");if(typeof n>"u")throw new Error("outputRange can not be undefined");if(t.length!==n.length)throw new Error("inputRange ("+t.length+") and outputRange ("+n.length+") must have the same length");sr("inputRange",t),sr("outputRange",n),ts(t);const i=r?.easing??(a=>a);let s="extend";r?.extrapolateLeft!==void 0&&(s=r.extrapolateLeft);let u="extend";if(r?.extrapolateRight!==void 0&&(u=r.extrapolateRight),typeof e!="number")throw new TypeError("Cannot interpolate an input which is not a number");const l=es(e,t);return Qi(e,[t[l],t[l+1]],[n[l],n[l+1]],{easing:i,extrapolateLeft:s,extrapolateRight:u})}var Qr=({frame:e,playbackRate:t,startFrom:n})=>ce(e,[-1,n,n+1],[-1,n,n+t]),eo=({fps:e,frame:t,playbackRate:n,startFrom:r})=>{const i=Qr({frame:t,playbackRate:n,startFrom:r}),s=1e3/e;return i*s/1e3},ar={},ns=(e,t)=>{if(e===null||e.seekable.length===0||e.seekable.length>1||ar[e.src])return;const n={start:e.seekable.start(0),end:e.seekable.end(0)};if(n.start===0&&n.end===0){const r=[`The media ${e.src} cannot be seeked. This could be one of few reasons:`,"1) The media resource was replaced while the video is playing but it was not loaded yet.","2) The media does not support seeking.","3) The media was loaded with security headers prventing it from being included.","Please see https://remotion.dev/docs/non-seekable-media for assistance."].join(`
`);if(t==="console-error")console.error(r);else if(t==="console-warning")console.warn(`The media ${e.src} does not support seeking. The video will render fine, but may not play correctly in the Remotion Studio and in the <Player>. See https://remotion.dev/docs/non-seekable-media for an explanation.`);else throw new Error(r);ar[e.src]=!0}},to=({mediaRef:e,src:t,mediaType:n,playbackRate:r,onlyWarnForMediaSeekingError:i,acceptableTimeshift:s,pauseWhenBuffering:u,isPremounting:l,isPostmounting:a,onAutoPlayError:c})=>{const{playbackRate:m}=o.useContext(fe),f=me(),h=Fe(),[p]=Dr(),w=o.useContext(rt),{fps:g}=ue(),y=Oe(),b=o.useRef(null),S=o.useRef(null),C=Me(),v=pt();if(!w)throw new Error("useMediaPlayback must be used inside a <BufferingContext>");const E=o.useRef({}),x=o.useCallback(()=>{t&&(E.current[t]||(de.verbose({logLevel:C,tag:null},`Detected ${t} as a variable FPS video. Disabling buffering while seeking.`),E.current[t]=!0))},[C,t]),T=Zi({mediaRef:e,mediaType:n,lastSeek:S,onVariableFpsVideoDetected:x}),R=Ki(e),P=eo({frame:f,playbackRate:r,startFrom:-y,fps:g}),F=Xi({element:e,shouldBuffer:u,isPremounting:l,isPostmounting:a,logLevel:C,mountTime:v,src:t??null}),{bufferUntilFirstFrame:N,isBuffering:j}=Gi({mediaRef:e,mediaType:n,onVariableFpsVideoDetected:x,pauseWhenBuffering:u,logLevel:C,mountTime:v}),L=r*m,D=e.current?.duration?Math.min(e.current.duration,s??.65):s??.65,B=Zr(w);o.useEffect(()=>{if(e.current?.paused)return;if(!p){re({logLevel:C,tag:"pause",message:`Pausing ${e.current?.src} because ${l?"media is premounting":a?"media is postmounting":"Player is not playing"}`,mountTime:v}),e.current?.pause();return}const $=F||j();w.buffering.current&&!$&&(re({logLevel:C,tag:"pause",message:`Pausing ${e.current?.src} because player is buffering but media tag is not`,mountTime:v}),e.current?.pause())},[j,F,w,B,l,C,e,n,v,p,a]);const k=Q();o.useLayoutEffect(()=>{const $=Math.max(0,L);e.current&&e.current.playbackRate!==$&&(e.current.playbackRate=$)},[e,L]),o.useEffect(()=>{const $=n==="audio"?"<Html5Audio>":"<Html5Video>";if(!e.current)throw new Error(`No ${n} ref found`);if(!t)throw new Error(`No 'src' attribute was passed to the ${$} element.`);const{duration:M}=e.current,_=!Number.isNaN(M)&&Number.isFinite(M)?Math.min(M,P):P,K=R.current.time,Y=T.current?.time??null,G=E.current[t],O=Math.abs(_-K),U=Y?Math.abs(_-Y):null,H=T.current?.lastUpdate&&T.current.time>R.current.lastUpdate?U:O,X=U&&!G?H:O;if(X>D&&b.current!==_){S.current=xt({mediaRef:e.current,time:_,logLevel:C,why:`because time shift is too big. shouldBeTime = ${_}, isTime = ${K}, requestVideoCallbackTime = ${Y}, timeShift = ${X}${G?", isVariableFpsVideo = true":""}, isPremounting = ${l}, isPostmounting = ${a}, pauseWhenBuffering = ${u}`,mountTime:v}),b.current=S.current,p&&(L>0&&N(_),e.current.paused&&Pt({mediaRef:e,mediaType:n,onAutoPlayError:c,logLevel:C,mountTime:v,reason:"player is playing but media tag is paused, and just seeked",isPlayer:k.isPlayer})),i||ns(e.current,i?"console-warning":"console-error");return}const q=p?.15:.01,ee=Math.abs(e.current.currentTime-_)>q,ie=F||j(),ne=w.buffering.current&&!ie;if(!p||ne){ee&&(S.current=xt({mediaRef:e.current,time:_,logLevel:C,why:`not playing or something else is buffering. time offset is over seek threshold (${q})`,mountTime:v}));return}if(!p||w.buffering.current)return;const oe=e.current.paused&&!e.current.ended;if(oe||h===0){const ge=oe?"media tag is paused":"absolute frame is 0";ee&&(S.current=xt({mediaRef:e.current,time:_,logLevel:C,why:`is over timeshift threshold (threshold = ${q}) and ${ge}`,mountTime:v})),Pt({mediaRef:e,mediaType:n,onAutoPlayError:c,logLevel:C,mountTime:v,reason:`player is playing and ${ge}`,isPlayer:k.isPlayer}),!G&&L>0&&N(_)}},[h,D,N,w.buffering,T,C,P,j,F,e,n,i,L,p,t,c,l,a,u,v,R,k.isPlayer])},no=({mediaRef:e,id:t,mediaType:n,onAutoPlayError:r,isPremounting:i,isPostmounting:s})=>{const{audioAndVideoTags:u,imperativePlaying:l}=o.useContext(fe),a=Me(),c=pt(),m=Q();o.useEffect(()=>{const f={id:t,play:h=>{if(l.current&&!(i||s))return Pt({mediaRef:e,mediaType:n,onAutoPlayError:r,logLevel:a,mountTime:c,reason:h,isPlayer:m.isPlayer})}};return u.current.push(f),()=>{u.current=u.current.filter(h=>h.id!==t)}},[u,t,e,n,r,l,i,s,a,c,m.isPlayer])},In=o.createContext({mediaMuted:!1,mediaVolume:1}),$n=o.createContext({setMediaMuted:()=>{throw new Error("default")},setMediaVolume:()=>{throw new Error("default")}}),An=()=>{const{mediaVolume:e}=o.useContext(In),{setMediaVolume:t}=o.useContext($n);return o.useMemo(()=>[e,t],[e,t])},Nn=()=>{const{mediaMuted:e}=o.useContext(In),{setMediaMuted:t}=o.useContext($n);return o.useMemo(()=>[e,t],[e,t])},ot=e=>{if(e>=100)throw new Error(`Volume was set to ${e}, but regular volume is 1, not 100. Did you forget to divide by 100? Set a volume of less than 100 to dismiss this error.`)},rs=(e,t)=>{const[n]=o.useState(e.shouldPreMountAudioTags);if(e.shouldPreMountAudioTags!==n)throw new Error("Cannot change the behavior for pre-mounting audio tags dynamically.");const r=Me(),{volume:i,muted:s,playbackRate:u,shouldPreMountAudioTags:l,src:a,onDuration:c,acceptableTimeShiftInSeconds:m,_remotionInternalNeedsDurationCalculation:f,_remotionInternalNativeLoopPassed:h,_remotionInternalStack:p,allowAmplificationDuringRender:w,name:g,pauseWhenBuffering:y,showInTimeline:b,loopVolumeCurveBehavior:S,stack:C,crossOrigin:v,delayRenderRetries:E,delayRenderTimeoutInMilliseconds:x,toneFrequency:T,useWebAudioApi:R,onError:P,onNativeError:F,audioStreamIndex:N,...j}=e,[L]=An(),[D]=Nn(),B=nt(S??"repeat"),{hidden:k}=o.useContext(ft);if(!a)throw new TypeError("No 'src' was passed to <Html5Audio>.");const $=et(a),M=o.useContext(Z),[_]=o.useState(()=>String(Math.random())),K=k[_]??!1,Y=Ue({frame:B,volume:i,mediaVolume:L});ot(Y);const G=Pn({crossOrigin:v,requestsVideoFrame:!1,isClientSideRendering:!1}),O=o.useMemo(()=>({muted:s||D||K||Y<=0,src:$,loop:h,crossOrigin:G,...j}),[h,K,D,s,j,$,Y,G]),U=o.useMemo(()=>`audio-${Le(a??"")}-${M?.relativeFrom}-${M?.cumulatedFrom}-${M?.durationInFrames}-muted:${e.muted}-loop:${e.loop}`,[a,M?.relativeFrom,M?.cumulatedFrom,M?.durationInFrames,e.muted,e.loop]),{el:H,mediaElementSourceNode:X,cleanupOnMediaTagUnmount:q}=_i({aud:O,audioId:U,premounting:!!M?.premounting,postmounting:!!M?.postmounting});Fn({volume:i,mediaVolume:L,src:a,mediaType:"audio",playbackRate:u??1,displayName:g??null,id:_,stack:p,showInTimeline:b,premountDisplay:M?.premountDisplay??null,postmountDisplay:M?.postmountDisplay??null,loopDisplay:void 0}),to({mediaRef:H,src:a,mediaType:"audio",playbackRate:u??1,onlyWarnForMediaSeekingError:!1,acceptableTimeshift:m??null,isPremounting:!!M?.premounting,isPostmounting:!!M?.postmounting,pauseWhenBuffering:y,onAutoPlayError:null}),no({id:_,isPostmounting:!!M?.postmounting,isPremounting:!!M?.premounting,mediaRef:H,mediaType:"audio",onAutoPlayError:null}),Gr({logLevel:r,mediaRef:H,source:X,volume:Y,shouldUseWebAudioApi:R??!1}),(V.useInsertionEffect??V.useLayoutEffect)(()=>()=>{requestAnimationFrame(()=>{q()})},[q]),o.useImperativeHandle(t,()=>H.current,[H]);const ie=o.useRef(c);return ie.current=c,o.useEffect(()=>{const{current:ne}=H;if(!ne)return;if(ne.duration){ie.current?.(ne.src,ne.duration);return}const oe=()=>{ie.current?.(ne.src,ne.duration)};return ne.addEventListener("loadedmetadata",oe),()=>{ne.removeEventListener("loadedmetadata",oe)}},[H,a]),n?null:d.jsx("audio",{ref:H,preload:"metadata",crossOrigin:G,...O})},ro=o.forwardRef(rs),os=(e,t)=>{const n=o.useRef(null),{volume:r,playbackRate:i,allowAmplificationDuringRender:s,onDuration:u,toneFrequency:l,_remotionInternalNeedsDurationCalculation:a,_remotionInternalNativeLoopPassed:c,acceptableTimeShiftInSeconds:m,name:f,onNativeError:h,delayRenderRetries:p,delayRenderTimeoutInMilliseconds:w,loopVolumeCurveBehavior:g,pauseWhenBuffering:y,audioStreamIndex:b,...S}=e,C=Fe(),v=nt(g??"repeat"),E=me(),x=o.useContext(Z),{registerRenderAsset:T,unregisterRenderAsset:R}=o.useContext(Be),{delayRender:P,continueRender:F}=Ie(),N=o.useMemo(()=>`audio-${Le(e.src??"")}-${x?.relativeFrom}-${x?.cumulatedFrom}-${x?.durationInFrames}`,[e.src,x?.relativeFrom,x?.cumulatedFrom,x?.durationInFrames]),j=Ue({volume:r,frame:v,mediaVolume:1});ot(j),o.useImperativeHandle(t,()=>n.current,[]),o.useEffect(()=>{if(!e.src)throw new Error("No src passed");if(window.remotion_audioEnabled&&!e.muted&&!(j<=0))return T({type:"audio",src:ve(e.src),id:N,frame:C,volume:j,mediaFrame:E,playbackRate:e.playbackRate??1,toneFrequency:l??1,audioStartFrame:Math.max(0,-(x?.relativeFrom??0)),audioStreamIndex:b??0}),()=>R(N)},[e.muted,e.src,T,C,N,R,j,v,E,i,e.playbackRate,l,x?.relativeFrom,b]);const{src:L}=e,D=t||a;return o.useLayoutEffect(()=>{if(window.process?.env?.NODE_ENV==="test"||!D)return;const B=P("Loading <Html5Audio> duration with src="+L,{retries:p??void 0,timeoutInMilliseconds:w??void 0}),{current:k}=n,$=()=>{k?.duration&&u(k.src,k.duration),F(B)};return k?.duration?(u(k.src,k.duration),F(B)):k?.addEventListener("loadedmetadata",$,{once:!0}),()=>{k?.removeEventListener("loadedmetadata",$),F(B)}},[L,u,D,p,w,F,P]),D?d.jsx("audio",{ref:n,...S,onError:h}):null},is=o.forwardRef(os),ss=(e,t)=>{const n=o.useContext(tt),{startFrom:r,endAt:i,trimBefore:s,trimAfter:u,name:l,stack:a,pauseWhenBuffering:c,showInTimeline:m,onError:f,...h}=e,{loop:p,...w}=e,{fps:g}=ue(),y=Q();if(y.isClientSideRendering)throw new Error("<Html5Audio> is not supported in @remotion/web-renderer. Use <Audio> from @remotion/media instead. See https://remotion.dev/docs/client-side-rendering/limitations");const{durations:b,setDurations:S}=o.useContext(Rn);if(typeof e.src!="string")throw new TypeError(`The \`<Html5Audio>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);const C=et(e.src),v=o.useCallback(P=>{console.log(P.currentTarget.error);const F=`Could not play audio with src ${C}: ${P.currentTarget.error}. See https://remotion.dev/docs/media-playback-error for help.`;if(p){if(f){f(new Error(F));return}Ge(new Error(F))}else f?.(new Error(F)),console.warn(F)},[p,f,C]),E=o.useCallback((P,F)=>{S({type:"got-duration",durationInSeconds:F,src:P})},[S]),x=b[ve(C)]??b[ve(e.src)];Ot({startFrom:r,endAt:i,trimBefore:s,trimAfter:u});const{trimBeforeValue:T,trimAfterValue:R}=Ut({startFrom:r,endAt:i,trimBefore:s,trimAfter:u});if(p&&x!==void 0){if(!Number.isFinite(x))return d.jsx(Ct,{...w,ref:t,_remotionInternalNativeLoopPassed:!0});const P=x*g;return d.jsx(_t,{layout:"none",durationInFrames:Lt({trimAfter:R,mediaDurationInFrames:P,playbackRate:e.playbackRate??1,trimBefore:T}),children:d.jsx(Ct,{...w,ref:t,_remotionInternalNativeLoopPassed:!0})})}return typeof T<"u"||typeof R<"u"?d.jsx(xe,{layout:"none",from:0-(T??0),showInTimeline:!1,durationInFrames:R,name:l,children:d.jsx(Ct,{_remotionInternalNeedsDurationCalculation:!!p,pauseWhenBuffering:c??!1,...h,ref:t})}):(Bt({playbackRate:e.playbackRate,volume:e.volume},"Html5Audio"),y.isRendering?d.jsx(is,{onDuration:E,...e,ref:t,onNativeError:v,_remotionInternalNeedsDurationCalculation:!!p}):d.jsx(ro,{_remotionInternalNativeLoopPassed:e._remotionInternalNativeLoopPassed??!1,_remotionInternalStack:a??null,shouldPreMountAudioTags:n!==null&&n.numberOfAudioTags>0,...e,ref:t,onNativeError:v,onDuration:E,pauseWhenBuffering:c??!1,_remotionInternalNeedsDurationCalculation:!!p,showInTimeline:m??!0}))},Ct=o.forwardRef(ss);Ke(Ct);var as=o.createContext({folderName:null,parentName:null}),us={transform:"rotate(90deg)"},ur=40,ls={color:"white",fontSize:14,fontFamily:"sans-serif"},cs={justifyContent:"center",alignItems:"center"},ds=()=>d.jsxs(Ce,{style:cs,id:"remotion-comp-loading",children:[d.jsx("style",{type:"text/css",children:`
				@keyframes anim {
					from {
						opacity: 0
					}
					to {
						opacity: 1
					}
				}
				#remotion-comp-loading {
					animation: anim 2s;
					animation-fill-mode: forwards;
				}
			`}),d.jsx("svg",{width:ur,height:ur,viewBox:"-100 -100 400 400",style:us,children:d.jsx("path",{fill:"#555",stroke:"#555",strokeWidth:"100",strokeLinejoin:"round",d:"M 2 172 a 196 100 0 0 0 195 5 A 196 240 0 0 0 100 2.259 A 196 240 0 0 0 2 172 z"})}),d.jsxs("p",{style:ls,children:["Resolving ","<Suspense>","..."]})]}),se=null,fn=()=>{if(!se){if(typeof document>"u")throw new Error("Tried to call an API that only works in the browser from outside the browser");se=document.createElement("div"),se.style.position="absolute",se.style.top="0px",se.style.left="0px",se.style.right="0px",se.style.bottom="0px",se.style.width="100%",se.style.height="100%",se.style.display="flex",se.style.flexDirection="column";const e=document.createElement("div");e.style.position="fixed",e.style.top="-999999px",e.appendChild(se),document.body.appendChild(e)}return se},oo=({compProps:e,componentName:t,noSuspense:n})=>o.useMemo(()=>{if("component"in e){if(typeof document>"u"||n)return e.component;if(typeof e.component>"u")throw new Error(`A value of \`undefined\` was passed to the \`component\` prop. Check the value you are passing to the <${t}/> component.`);return e.component}if("lazyComponent"in e&&typeof e.lazyComponent<"u"){if(typeof e.lazyComponent>"u")throw new Error(`A value of \`undefined\` was passed to the \`lazyComponent\` prop. Check the value you are passing to the <${t}/> component.`);return V.lazy(e.lazyComponent)}throw new Error("You must pass either 'component' or 'lazyComponent'")},[e.component,e.lazyComponent]),io=()=>/^([a-zA-Z0-9-\u4E00-\u9FFF])+$/g,so=e=>e.match(io()),fs=e=>{if(!so(e))throw new Error(`Composition id can only contain a-z, A-Z, 0-9, CJK characters and -. You passed ${e}`)},ms=`Composition ID must match ${String(io())}`,ps=(e,t,n)=>{if(e){if(typeof e!="object")throw new Error(`"${t}" must be an object, but you passed a value of type ${typeof e}`);if(Array.isArray(e))throw new Error(`"${t}" must be an object, an array was passed ${n?`for composition "${n}"`:""}`)}},hs=()=>{const{continueRender:e,delayRender:t}=Ie();return o.useEffect(()=>{const n=t("Waiting for Root component to unsuspend");return()=>e(n)},[e,t]),null},gs=({width:e,height:t,fps:n,durationInFrames:r,id:i,defaultProps:s,schema:u,...l})=>{const a=o.useContext(It),{registerComposition:c,unregisterComposition:m}=a,f=Nt(),h=oo({compProps:l,componentName:"Composition",noSuspense:!1}),p=Tn(),w=yn(),g=Q(),y=o.useContext(De);if(typeof window<"u"&&(window.remotion_seenCompositionIds=Array.from(new Set([...window.remotion_seenCompositionIds??[],i]))),y)throw w?new Error("<Composition> was mounted inside the `component` that was passed to the <Player>. See https://remotion.dev/docs/wrong-composition-mount for help."):new Error("<Composition> mounted inside another composition. See https://remotion.dev/docs/wrong-composition-mount for help.");const{folderName:b,parentName:S}=o.useContext(as);o.useEffect(()=>{if(!i)throw new Error("No id for composition passed.");return fs(i),ps(s,"defaultProps",i),c({durationInFrames:r??void 0,fps:n??void 0,height:t??void 0,width:e??void 0,id:i,folderName:b,component:h,defaultProps:Ve(s??{}),nonce:p,parentFolderName:S,schema:u??null,calculateMetadata:l.calculateMetadata??null}),()=>{m(i)}},[r,n,t,h,i,b,s,e,p,S,u,l.calculateMetadata,c,m]),o.useEffect(()=>{window.dispatchEvent(new CustomEvent(Nr,{detail:{resetUnsaved:i}}))},[s,i]);const C=Cn(i);if(g.isStudio&&f&&f.component===h&&f.id===i){const v=h;return C===null||C.type!=="success"&&C.type!=="success-and-refreshing"?null:Yn.createPortal(d.jsx(un,{children:d.jsx(o.Suspense,{fallback:d.jsx(ds,{}),children:d.jsx(v,{...C.result.props??{}})})}),fn())}if(g.isRendering&&f&&f.component===h&&f.id===i){const v=h;return C===null||C.type!=="success"&&C.type!=="success-and-refreshing"?null:Yn.createPortal(d.jsx(un,{children:d.jsx(o.Suspense,{fallback:d.jsx(hs,{}),children:d.jsx(v,{...C.result.props??{}})})}),fn())}return null},lr=e=>{const{onlyRenderComposition:t}=o.useContext(It);return t&&t!==e.id?null:d.jsx(gs,{...e})},ws=({onLoad:e,onError:t,delayRenderRetries:n,delayRenderTimeoutInMilliseconds:r,...i},s)=>{const{delayRender:u,continueRender:l}=Ie(),[a]=o.useState(()=>u(`Loading <IFrame> with source ${i.src}`,{retries:n??void 0,timeoutInMilliseconds:r??void 0})),c=o.useCallback(f=>{l(a),e?.(f)},[a,e,l]),m=o.useCallback(f=>{l(a),t?t(f):console.error("Error loading iframe:",f,"Handle the event using the onError() prop to make this message disappear.")},[a,t,l]);return d.jsx("iframe",{referrerPolicy:"strict-origin-when-cross-origin",...i,ref:s,onError:m,onLoad:c})};o.forwardRef(ws);function vs(e){return 1e3*2**(e-1)}var ys=({onError:e,maxRetries:t=2,src:n,pauseWhenLoading:r,delayRenderRetries:i,delayRenderTimeoutInMilliseconds:s,onImageFrame:u,crossOrigin:l,...a},c)=>{const m=o.useRef(null),f=o.useRef({}),{delayPlayback:h}=Mn(),p=o.useContext(Z);if(!n)throw new Error('No "src" prop was passed to <Img>.');o.useImperativeHandle(c,()=>m.current,[]);const w=et(n),g=o.useCallback(E=>{if(!m.current)return;const x=m.current.src;setTimeout(()=>{if(!m.current)return;const T=m.current?.src;T===x&&(m.current.removeAttribute("src"),m.current.setAttribute("src",T))},E)},[]),y=o.useCallback(E=>{if(f.current){if(f.current[m.current?.src]=(f.current[m.current?.src]??0)+1,e&&(f.current[m.current?.src]??0)>t){e(E);return}if((f.current[m.current?.src]??0)<=t){const x=vs(f.current[m.current?.src]??0);console.warn(`Could not load image with source ${m.current?.src}, retrying again in ${x}ms`),g(x);return}Ge("Error loading image with src: "+m.current?.src)}},[t,e,g]),{delayRender:b,continueRender:S}=Ie();if(typeof window<"u"){const E=!!p?.premounting,x=!!p?.postmounting;o.useLayoutEffect(()=>{if(window.process?.env?.NODE_ENV==="test"){m.current&&(m.current.src=w);return}const{current:T}=m;if(!T)return;const R=b("Loading <Img> with src="+w,{retries:i??void 0,timeoutInMilliseconds:s??void 0}),P=r&&!E&&!x?h().unblock:()=>{};let F=!1;const N=()=>{if(F){S(R);return}(f.current[m.current?.src]??0)>0&&(delete f.current[m.current?.src],console.info(`Retry successful - ${m.current?.src} is now loaded`)),T&&u?.(T),P(),S(R)};if(!m.current){N();return}return T.src=w,T.decode().then(N).catch(j=>{console.warn(j),T.complete?N():T.addEventListener("load",N)}),()=>{F=!0,T.removeEventListener("load",N),P(),S(R)}},[w,h,i,s,r,E,x,u,S,b])}const{isClientSideRendering:C}=Q(),v=Pn({crossOrigin:l,requestsVideoFrame:!1,isClientSideRendering:C});return d.jsx("img",{...a,ref:m,crossOrigin:v,onError:y,decoding:"sync"})},qt=o.forwardRef(ys),ao=V.createRef(),bs=({children:e,onlyRenderComposition:t,currentCompositionMetadata:n,initialCompositions:r,initialCanvasContent:i})=>{const[s,u]=o.useState([]),[l,a]=o.useState(i),[c,m]=o.useState(r),f=o.useRef(c),h=o.useCallback(v=>{m(E=>{const x=v(E);return f.current=x,x})},[]),p=o.useCallback(v=>{h(E=>{if(E.find(T=>T.id===v.id))throw new Error(`Multiple composition with id ${v.id} are registered.`);return[...E,v].slice().sort((T,R)=>T.nonce-R.nonce)})},[h]),w=o.useCallback(v=>{m(E=>E.filter(x=>x.id!==v))},[]),g=o.useCallback((v,E)=>{u(x=>[...x,{name:v,parent:E}])},[]),y=o.useCallback((v,E)=>{u(x=>x.filter(T=>!(T.name===v&&T.parent===E)))},[]);o.useImperativeHandle(ao,()=>({getCompositions:()=>f.current}),[]);const b=o.useCallback((v,E)=>{m(x=>x.map(R=>R.id===v?{...R,defaultProps:E}:R))},[]),S=o.useMemo(()=>({registerComposition:p,unregisterComposition:w,registerFolder:g,unregisterFolder:y,setCanvasContent:a,updateCompositionDefaultProps:b,onlyRenderComposition:t}),[p,g,w,y,b,t]),C=o.useMemo(()=>({compositions:c,folders:s,currentCompositionMetadata:n,canvasContent:l}),[c,s,n,l]);return d.jsx(Ze.Provider,{value:C,children:d.jsx(It.Provider,{value:S,children:e})})},uo={};Tr(uo,{makeDefaultPreviewCSS:()=>Cs,injectCSS:()=>xs,OBJECTFIT_CONTAIN_CLASS_NAME:()=>ct});var bt={},xs=e=>{if(typeof document>"u")return()=>{};if(bt[e])return()=>{};const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");return n.appendChild(document.createTextNode(e)),t.prepend(n),bt[e]=n,()=>{const r=bt[e];r&&(r.parentNode&&r.parentNode.removeChild(r),delete bt[e])}},ct="__remotion_objectfitcontain",Cs=(e,t)=>e?`
    ${e} * {
      box-sizing: border-box;
    }
    ${e} *:-webkit-full-screen {
      width: 100%;
      height: 100%;
    }
    ${e} .${ct} {
      object-fit: contain;
    }
  `:`
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
	    background-color: ${t};
    }
    .${ct} {
      object-fit: contain;
    }
    `,lo="__remotion-studio-container",Es=()=>document.getElementById(lo),Ss=V.createContext(null),Ts=null,Kt=[],Rs=()=>Ts,Ps=e=>(Kt.push(e),()=>{Kt=Kt.filter(t=>t!==e)}),Vn=o.createContext(null),ks=()=>{const e=o.useContext(Vn);return!e||e.videoEnabled===null?window.remotion_videoEnabled:e.videoEnabled},Fs=()=>{const e=o.useContext(Vn);return!e||e.audioEnabled===null?window.remotion_audioEnabled:e.audioEnabled},Ms=({children:e,videoEnabled:t,audioEnabled:n})=>{const r=o.useMemo(()=>({videoEnabled:t,audioEnabled:n}),[t,n]);return d.jsx(Vn.Provider,{value:r,children:e})},Is=({children:e,numberOfAudioTags:t,logLevel:n,audioLatencyHint:r,videoEnabled:i,audioEnabled:s,frameState:u,nonceContextSeed:l})=>{const a=o.useMemo(()=>{let m=0;return{getNonce:()=>m++}},[l]),c=o.useMemo(()=>({logLevel:n,mountTime:Date.now()}),[n]);return d.jsx(_e.Provider,{value:c,children:d.jsx(ht.Provider,{value:a,children:d.jsx(mi,{frameState:u,children:d.jsx(Ms,{videoEnabled:i,audioEnabled:s,children:d.jsx(Ir,{children:d.jsx(qr,{children:d.jsx(Ho,{children:d.jsx(Yr,{numberOfAudioTags:t,audioLatencyHint:r,audioEnabled:s,children:d.jsx(zr,{children:d.jsx(Xr,{children:e})})})})})})})})})})},cr=["h264","h265","vp8","vp9","mp3","aac","wav","prores","h264-mkv","h264-ts","gif"];function $s(e,t,n){if(!(typeof e>"u")){if(typeof e!="string")throw new TypeError(`The "${n}" prop ${t} must be a string, but you passed a value of type ${typeof e}.`);if(!cr.includes(e))throw new Error(`The "${n}" prop ${t} must be one of ${cr.join(", ")}, but you passed ${e}.`)}}var dr=({calculated:e,compositionId:t,compositionFps:n,compositionHeight:r,compositionWidth:i,compositionDurationInFrames:s})=>{const u=`calculated by calculateMetadata() for the composition "${t}"`,l=`of the "<Composition />" component with the id "${t}"`,a=e?.width??i??void 0;Rt(a,"width",e?.width?u:l);const c=e?.height??r??void 0;Rt(c,"height",e?.height?u:l);const m=e?.fps??n??null;$t(m,e?.fps?u:l);const f=e?.durationInFrames??s??null;xn(f,{allowFloats:!1,component:`of the "<Composition />" component with the id "${t}"`});const h=e?.defaultCodec;$s(h,u,"defaultCodec");const p=e?.defaultOutName,w=e?.defaultVideoImageFormat,g=e?.defaultPixelFormat,y=e?.defaultProResProfile;return{width:a,height:c,fps:m,durationInFrames:f,defaultCodec:h,defaultOutName:p,defaultVideoImageFormat:w,defaultPixelFormat:g,defaultProResProfile:y}},co=({calculateMetadata:e,signal:t,defaultProps:n,inputProps:r,compositionId:i,compositionDurationInFrames:s,compositionFps:u,compositionHeight:l,compositionWidth:a})=>{const c=e?e({defaultProps:n,props:r,abortSignal:t,compositionId:i,isRendering:he().isRendering}):null;if(c!==null&&typeof c=="object"&&"then"in c)return c.then(f=>{const{height:h,width:p,durationInFrames:w,fps:g,defaultCodec:y,defaultOutName:b,defaultVideoImageFormat:S,defaultPixelFormat:C,defaultProResProfile:v}=dr({calculated:f,compositionDurationInFrames:s,compositionFps:u,compositionHeight:l,compositionWidth:a,compositionId:i});return{width:p,height:h,fps:g,durationInFrames:w,id:i,defaultProps:Ve(n),props:Ve(f.props??r),defaultCodec:y??null,defaultOutName:b??null,defaultVideoImageFormat:S??null,defaultPixelFormat:C??null,defaultProResProfile:v??null}});const m=dr({calculated:c,compositionDurationInFrames:s,compositionFps:u,compositionHeight:l,compositionWidth:a,compositionId:i});return c===null?{...m,id:i,defaultProps:Ve(n??{}),props:Ve(r),defaultCodec:null,defaultOutName:null,defaultVideoImageFormat:null,defaultPixelFormat:null,defaultProResProfile:null}:{...m,id:i,defaultProps:Ve(n??{}),props:Ve(c.props??r),defaultCodec:c.defaultCodec??null,defaultOutName:c.defaultOutName??null,defaultVideoImageFormat:c.defaultVideoImageFormat??null,defaultPixelFormat:c.defaultPixelFormat??null,defaultProResProfile:c.defaultProResProfile??null}},As=e=>{try{return{type:"success",result:co(e)}}catch(t){return{type:"error",error:t}}},Ns=()=>{if(he().isRendering){const e=window.remotion_envVariables;return e?{...JSON.parse(e),NODE_ENV:"production"}:{}}return{NODE_ENV:"production"}},Vs=()=>{const e=Ns();window.process||(window.process={}),window.process.env||(window.process.env={}),Object.keys(e).forEach(t=>{window.process.env[t]=e[t]})},js=V.createContext(null),Ls=o.createContext({setSize:()=>{},size:{size:"auto",translation:{x:0,y:0}}}),_s=({canvasSize:e,compositionHeight:t,compositionWidth:n,previewSize:r})=>{const i=e.height/t,s=e.width/n,u=Math.min(i,s);return r==="auto"?u===0?1:u:Number(r)},Ds=({src:e,transparent:t,currentTime:n,toneMapped:r})=>`http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent(ve(e))}&time=${encodeURIComponent(Math.max(0,n))}&transparent=${String(t)}&toneMapped=${String(r)}`,Bs=({onError:e,volume:t,playbackRate:n,src:r,muted:i,allowAmplificationDuringRender:s,transparent:u,toneMapped:l,toneFrequency:a,name:c,loopVolumeCurveBehavior:m,delayRenderRetries:f,delayRenderTimeoutInMilliseconds:h,onVideoFrame:p,crossOrigin:w,audioStreamIndex:g,...y})=>{const b=Fe(),S=me(),C=nt(m),v=jt(),E=o.useContext(Z),x=Oe(),{registerRenderAsset:T,unregisterRenderAsset:R}=o.useContext(Be);if(!r)throw new TypeError("No `src` was passed to <OffthreadVideo>.");const P=o.useMemo(()=>`offthreadvideo-${Le(r)}-${E?.cumulatedFrom}-${E?.relativeFrom}-${E?.durationInFrames}`,[r,E?.cumulatedFrom,E?.relativeFrom,E?.durationInFrames]);if(!v)throw new Error("No video config found");const F=Ue({volume:t,frame:C,mediaVolume:1});ot(F),o.useEffect(()=>{if(!r)throw new Error("No src passed");if(window.remotion_audioEnabled&&!i&&!(F<=0))return T({type:"video",src:ve(r),id:P,frame:b,volume:F,mediaFrame:S,playbackRate:n,toneFrequency:a,audioStartFrame:Math.max(0,-(E?.relativeFrom??0)),audioStreamIndex:g}),()=>R(P)},[i,r,T,P,R,F,S,b,n,a,E?.relativeFrom,g]);const N=o.useMemo(()=>Qr({frame:S,playbackRate:n||1,startFrom:-x})/v.fps,[S,x,n,v.fps]),j=o.useMemo(()=>Ds({src:r,currentTime:N,transparent:u,toneMapped:l}),[l,N,r,u]),[L,D]=o.useState(null),{delayRender:B,continueRender:k}=Ie();o.useLayoutEffect(()=>{if(!window.remotion_videoEnabled)return;const K=[];D(null);const Y=new AbortController,G=B(`Fetching ${j} from server`,{retries:f??void 0,timeoutInMilliseconds:h??void 0});return(async()=>{try{const U=await fetch(j,{signal:Y.signal,cache:"no-store"});if(U.status!==200){if(U.status===500){const q=await U.json();if(q.error){const ee=q.error.replace(/^Error: /,"");throw new Error(ee)}}throw new Error(`Server returned status ${U.status} while fetching ${j}`)}const H=await U.blob(),X=URL.createObjectURL(H);K.push(()=>URL.revokeObjectURL(X)),D({src:X,handle:G})}catch(U){if(U.message.includes("aborted")){k(G);return}if(Y.signal.aborted){k(G);return}U.message.includes("Failed to fetch")&&(U=new Error(`Failed to fetch ${j}. This could be caused by Chrome rejecting the request because the disk space is low. Consider increasing the disk size of your environment.`,{cause:U})),e?e(U):Ge(U)}})(),K.push(()=>{Y.signal.aborted||Y.abort()}),()=>{K.forEach(U=>U())}},[j,f,h,e,k,B]);const $=o.useCallback(()=>{e?e?.(new Error("Failed to load image with src "+L)):Ge("Failed to load image with src "+L)},[L,e]),M=o.useMemo(()=>[ct,y.className].filter(dt).join(" "),[y.className]),_=o.useCallback(K=>{p&&p(K)},[p]);return!L||!window.remotion_videoEnabled?null:(k(L.handle),d.jsx(qt,{src:L.src,delayRenderRetries:f,delayRenderTimeoutInMilliseconds:h,onImageFrame:_,...y,onError:$,className:M}))},Os=({ref:e,onVideoFrame:t})=>{o.useEffect(()=>{const{current:n}=e;if(!n||!t)return;let r=0;const i=()=>{e.current&&(t(e.current),r=e.current.requestVideoFrameCallback(i))};return i(),()=>{n.cancelVideoFrameCallback(r)}},[t,e])},Us=(e,t)=>{const n=o.useContext(tt);if(!n)throw new Error("SharedAudioContext not found");const r=o.useRef(null),i=o.useMemo(()=>n.audioContext?kn({audioContext:n.audioContext,ref:r}):null,[n.audioContext]);(V.useInsertionEffect??V.useLayoutEffect)(()=>()=>{requestAnimationFrame(()=>{i?.cleanup()})},[i]);const{volume:u,muted:l,playbackRate:a,onlyWarnForMediaSeekingError:c,src:m,onDuration:f,acceptableTimeShift:h,acceptableTimeShiftInSeconds:p,toneFrequency:w,name:g,_remotionInternalNativeLoopPassed:y,_remotionInternalStack:b,style:S,pauseWhenBuffering:C,showInTimeline:v,loopVolumeCurveBehavior:E,onError:x,onAutoPlayError:T,onVideoFrame:R,crossOrigin:P,delayRenderRetries:F,delayRenderTimeoutInMilliseconds:N,allowAmplificationDuringRender:j,useWebAudioApi:L,audioStreamIndex:D,...B}=e,k=nt(E??"repeat"),{fps:$,durationInFrames:M}=ue(),_=o.useContext(Z),{hidden:K}=o.useContext(ft),Y=Me(),G=pt(),[O]=o.useState(()=>String(Math.random())),U=K[O]??!1;if(typeof h<"u")throw new Error("acceptableTimeShift has been removed. Use acceptableTimeShiftInSeconds instead.");const[H]=An(),[X]=Nn(),q=Ue({frame:k,volume:u,mediaVolume:H});ot(q),Fn({volume:u,mediaVolume:H,mediaType:"video",src:m,playbackRate:e.playbackRate??1,displayName:g??null,id:O,stack:b,showInTimeline:v,premountDisplay:_?.premountDisplay??null,postmountDisplay:_?.postmountDisplay??null,loopDisplay:void 0}),to({mediaRef:r,src:m,mediaType:"video",playbackRate:e.playbackRate??1,onlyWarnForMediaSeekingError:c,acceptableTimeshift:p??null,isPremounting:!!_?.premounting,isPostmounting:!!_?.postmounting,pauseWhenBuffering:C,onAutoPlayError:T??null}),no({id:O,isPostmounting:!!_?.postmounting,isPremounting:!!_?.premounting,mediaRef:r,mediaType:"video",onAutoPlayError:T??null}),Gr({logLevel:Y,mediaRef:r,volume:q,source:i,shouldUseWebAudioApi:L??!1});const ee=_?_.relativeFrom:0,ie=_?Math.min(_.durationInFrames,M):M,ne=et(m),oe=Hi({actualSrc:ne,actualFrom:ee,duration:ie,fps:$});o.useImperativeHandle(t,()=>r.current,[]),o.useState(()=>re({logLevel:Y,message:`Mounting video with source = ${oe}, v=${lt}, user agent=${typeof navigator>"u"?"server":navigator.userAgent}`,tag:"video",mountTime:G})),o.useEffect(()=>{const{current:J}=r;if(!J)return;const A=()=>{if(J.error){if(console.error("Error occurred in video",J?.error),x){const ye=new Error(`Code ${J.error.code}: ${J.error.message}`);x(ye);return}throw new Error(`The browser threw an error while playing the video ${m}: Code ${J.error.code} - ${J?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`)}else{if(x){const ye=new Error(`The browser threw an error while playing the video ${m}`);x(ye);return}throw new Error("The browser threw an error while playing the video")}};return J.addEventListener("error",A,{once:!0}),()=>{J.removeEventListener("error",A)}},[x,m]);const Ee=o.useRef(f);Ee.current=f,Os({ref:r,onVideoFrame:R}),o.useEffect(()=>{const{current:J}=r;if(!J)return;if(J.duration){Ee.current?.(m,J.duration);return}const A=()=>{Ee.current?.(m,J.duration)};return J.addEventListener("loadedmetadata",A),()=>{J.removeEventListener("loadedmetadata",A)}},[m]),o.useEffect(()=>{const{current:J}=r;J&&(Ht()?J.preload="metadata":J.preload="auto")},[]);const ge=o.useMemo(()=>({...S,opacity:U?0:S?.opacity??1}),[U,S]),He=Pn({crossOrigin:P,requestsVideoFrame:!!R,isClientSideRendering:!1});return d.jsx("video",{ref:r,muted:l||X||U||q<=0,playsInline:!0,src:oe,loop:y,style:ge,disableRemotePlayback:!0,crossOrigin:He,...B})},jn=o.forwardRef(Us),Ln=e=>{const{startFrom:t,endAt:n,trimBefore:r,trimAfter:i,name:s,pauseWhenBuffering:u,stack:l,showInTimeline:a,...c}=e,m=Q();if(m.isClientSideRendering)throw new Error("<OffthreadVideo> is not supported in @remotion/web-renderer. Use <Video> from @remotion/media instead. See https://remotion.dev/docs/client-side-rendering/limitations");const f=o.useCallback(()=>{},[]);if(typeof e.src!="string")throw new TypeError(`The \`<OffthreadVideo>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);Ot({startFrom:t,endAt:n,trimBefore:r,trimAfter:i});const{trimBeforeValue:h,trimAfterValue:p}=Ut({startFrom:t,endAt:n,trimBefore:r,trimAfter:i});if(typeof h<"u"||typeof p<"u")return d.jsx(xe,{layout:"none",from:0-(h??0),showInTimeline:!1,durationInFrames:p,name:s,children:d.jsx(Ln,{pauseWhenBuffering:u??!1,...c,trimAfter:void 0,name:void 0,showInTimeline:a,trimBefore:void 0,stack:void 0,startFrom:void 0,endAt:void 0})});if(Bt(e,"Video"),m.isRendering)return d.jsx(Bs,{pauseWhenBuffering:u??!1,...c,trimAfter:void 0,name:void 0,showInTimeline:a,trimBefore:void 0,stack:void 0,startFrom:void 0,endAt:void 0});const{transparent:w,toneMapped:g,onAutoPlayError:y,onVideoFrame:b,crossOrigin:S,delayRenderRetries:C,delayRenderTimeoutInMilliseconds:v,...E}=c;return d.jsx(jn,{_remotionInternalStack:l??null,onDuration:f,onlyWarnForMediaSeekingError:!0,pauseWhenBuffering:u??!1,showInTimeline:a??!0,onAutoPlayError:y??void 0,onVideoFrame:b??null,crossOrigin:S,...E,_remotionInternalNativeLoopPassed:!1})},Hs=({src:e,acceptableTimeShiftInSeconds:t,allowAmplificationDuringRender:n,audioStreamIndex:r,className:i,crossOrigin:s,delayRenderRetries:u,delayRenderTimeoutInMilliseconds:l,id:a,loopVolumeCurveBehavior:c,muted:m,name:f,onAutoPlayError:h,onError:p,onVideoFrame:w,pauseWhenBuffering:g,playbackRate:y,showInTimeline:b,style:S,toneFrequency:C,toneMapped:v,transparent:E,trimAfter:x,trimBefore:T,useWebAudioApi:R,volume:P,_remotionInternalNativeLoopPassed:F,endAt:N,stack:j,startFrom:L,imageFormat:D})=>{if(D)throw new TypeError("The `<OffthreadVideo>` tag does no longer accept `imageFormat`. Use the `transparent` prop if you want to render a transparent video.");return d.jsx(Ln,{acceptableTimeShiftInSeconds:t,allowAmplificationDuringRender:n??!0,audioStreamIndex:r??0,className:i,crossOrigin:s,delayRenderRetries:u,delayRenderTimeoutInMilliseconds:l,id:a,loopVolumeCurveBehavior:c??"repeat",muted:m??!1,name:f,onAutoPlayError:h??null,onError:p,onVideoFrame:w,pauseWhenBuffering:g??!0,playbackRate:y??1,toneFrequency:C??1,showInTimeline:b??!0,src:e,stack:j,startFrom:L,_remotionInternalNativeLoopPassed:F??!1,endAt:N,style:S,toneMapped:v??!0,transparent:E??!1,trimAfter:x,trimBefore:T,useWebAudioApi:R??!1,volume:P})};Ke(Hs);var qs="remotion_staticFilesChanged";function Ws(){const e=V.useContext(Ze),t=V.useContext(fe),n=V.useContext(Qe),r=V.useContext(Z),i=V.useContext(ht),s=V.useContext(De),u=V.useContext(Dt),l=V.useContext(At),a=V.useContext(Be),c=V.useContext(Xe),m=V.useContext(rt),f=V.useContext(_e);return o.useMemo(()=>({compositionManagerCtx:e,timelineContext:t,setTimelineContext:n,sequenceContext:r,nonceContext:i,canUseRemotionHooksContext:s,preloadContext:u,resolveCompositionContext:l,renderAssetManagerContext:a,sequenceManagerContext:c,bufferManagerContext:m,logLevelContext:f}),[e,i,r,n,t,s,u,l,a,c,m,f])}var zs=e=>{const{children:t,contexts:n}=e;return d.jsx(_e.Provider,{value:n.logLevelContext,children:d.jsx(De.Provider,{value:n.canUseRemotionHooksContext,children:d.jsx(ht.Provider,{value:n.nonceContext,children:d.jsx(Dt.Provider,{value:n.preloadContext,children:d.jsx(Ze.Provider,{value:n.compositionManagerCtx,children:d.jsx(Xe.Provider,{value:n.sequenceManagerContext,children:d.jsx(Be.Provider,{value:n.renderAssetManagerContext,children:d.jsx(At.Provider,{value:n.resolveCompositionContext,children:d.jsx(fe.Provider,{value:n.timelineContext,children:d.jsx(Qe.Provider,{value:n.setTimelineContext,children:d.jsx(Z.Provider,{value:n.sequenceContext,children:d.jsx(rt.Provider,{value:n.bufferManagerContext,children:t})})})})})})})})})})})})},Ys=o.createRef(),I={MaxMediaCacheSizeContext:Ss,useUnsafeVideoConfig:jt,useFrameForVolumeProp:nt,useTimelinePosition:Fe,evaluateVolume:Ue,getAbsoluteSrc:ve,Timeline:rn,validateMediaTrimProps:Ot,validateMediaProps:Bt,resolveTrimProps:Ut,VideoForPreview:jn,CompositionManager:Ze,CompositionSetters:It,SequenceManager:Xe,SequenceVisibilityToggleContext:ft,RemotionRootContexts:Is,CompositionManagerProvider:bs,useVideo:Nt,getRoot:Rs,useMediaVolumeState:An,useMediaMutedState:Nn,useMediaInTimeline:Fn,useLazyComponent:oo,truthy:dt,SequenceContext:Z,useRemotionContexts:Ws,RemotionContextProvider:zs,CSSUtils:uo,setupEnvVariables:Vs,MediaVolumeContext:In,SetMediaVolumeContext:$n,getRemotionEnvironment:he,SharedAudioContext:tt,SharedAudioContextProvider:Yr,invalidCompositionErrorMessage:ms,calculateMediaDuration:Lt,isCompositionIdValid:so,getPreviewDomElement:Es,compositionsRef:ao,portalNode:fn,waitForRoot:Ps,SetTimelineContext:Qe,CanUseRemotionHooksProvider:un,CanUseRemotionHooks:De,PrefetchProvider:qr,DurationsContextProvider:zr,IsPlayerContextProvider:Bo,useIsPlayer:yn,EditorPropsProvider:Ir,EditorPropsContext:bn,usePreload:et,NonceContext:ht,resolveVideoConfig:co,resolveVideoConfigOrCatch:As,ResolveCompositionContext:At,useResolvedVideoConfig:Cn,resolveCompositionsRef:Xo,REMOTION_STUDIO_CONTAINER_ELEMENT:lo,RenderAssetManager:Be,persistCurrentFrame:Vr,useTimelineSetFrame:_r,isIosSafari:Ht,WATCH_REMOTION_STATIC_FILES:qs,addSequenceStackTraces:Ke,useMediaStartsAt:Oe,BufferingProvider:Xr,BufferingContextReact:rt,enableSequenceStackTraces:Pr,CurrentScaleContext:js,PreviewSizeContext:Ls,calculateScale:_s,editorPropsProviderRef:Mr,PROPS_UPDATED_EXTERNALLY:Nr,validateRenderAsset:Ur,Log:de,LogLevelContext:_e,useLogLevel:Me,playbackLogging:re,timeValueRef:Wo,compositionSelectorRef:Ys,RemotionEnvironmentContext:Fr,warnAboutTooHighVolume:ot,AudioForPreview:ro,OBJECTFIT_CONTAIN_CLASS_NAME:ct,InnerOffthreadVideo:Ln,useBasicMediaInTimeline:Kr,getInputPropsOverride:$r,setInputPropsOverride:zo,useVideoEnabled:ks,useAudioEnabled:Fs,useIsPlayerBuffering:Zr,TimelinePosition:rn,DelayRenderContextType:Or,TimelineContext:fe,RenderAssetManagerProvider:ki},Js=({allowFloats:e,durationInFrames:t,frame:n})=>{if(typeof n>"u")throw new TypeError('Argument missing for parameter "frame"');if(typeof n!="number")throw new TypeError(`Argument passed for "frame" is not a number: ${n}`);if(!Number.isFinite(n))throw new RangeError(`Frame ${n} is not finite`);if(n<0&&n<-t)throw new RangeError(`Cannot use frame ${n}: Duration of composition is ${t}, therefore the lowest frame that can be rendered is ${-t}`);if(n>t-1)throw new RangeError(`Cannot use frame ${n}: Duration of composition is ${t}, therefore the highest frame that can be rendered is ${t-1}`)},fo=o.createContext(!1),Gs=({children:e})=>d.jsx(fo.Provider,{value:!1,children:e}),Ks=()=>{if(!V.useContext(fo))throw new Error("This component must be inside a <Series /> component.")},Xs=({children:e},t)=>(Ks(),d.jsx(Gs,{children:e})),Zs=o.forwardRef(Xs);Ke(Zs);var Qs=e=>{if(!(typeof e>"u")){if(typeof e!="number")throw new TypeError(`A "duration" of a spring must be a "number" but is "${typeof e}"`);if(Number.isNaN(e))throw new TypeError('A "duration" of a spring is NaN, which it must not be');if(!Number.isFinite(e))throw new TypeError('A "duration" of a spring must be finite, but is '+e);if(e<=0)throw new TypeError('A "duration" of a spring must be positive, but is '+e)}},ea={damping:10,mass:1,stiffness:100,overshootClamping:!1},Xt={};function ta({animation:e,now:t,config:n}){const{toValue:r,lastTimestamp:i,current:s,velocity:u}=e,l=Math.min(t-i,64);if(n.damping<=0)throw new Error("Spring damping must be greater than 0, otherwise the spring() animation will never end, causing an infinite loop.");const a=n.damping,c=n.mass,m=n.stiffness,f=[r,i,s,u,a,c,m,t].join("-");if(Xt[f])return Xt[f];const h=-u,p=r-s,w=a/(2*Math.sqrt(m*c)),g=Math.sqrt(m/c),y=g*Math.sqrt(1-w**2),b=l/1e3,S=Math.sin(y*b),C=Math.cos(y*b),v=Math.exp(-w*g*b),E=v*(S*((h+w*g*p)/y)+p*C),x=r-E,T=w*g*E-v*(C*(h+w*g*p)-y*p*S),R=Math.exp(-g*b),P=r-R*(p+(h+g*p)*b),F=R*(h*(b*g-1)+b*p*g*g),N={toValue:r,prevPosition:s,lastTimestamp:t,current:w<1?x:P,velocity:w<1?T:F};return Xt[f]=N,N}var Zt={};function mo({frame:e,fps:t,config:n={}}){const s=[e,t,n.damping,n.mass,n.overshootClamping,n.stiffness].join("-");if(Zt[s])return Zt[s];let u={lastTimestamp:0,current:0,toValue:1,velocity:0,prevPosition:0};const l=Math.max(0,e),a=l%1;for(let c=0;c<=Math.floor(l);c++){c===Math.floor(l)&&(c+=a);const m=c/t*1e3;u=ta({animation:u,now:m,config:{...ea,...n}})}return Zt[s]=u,u}var Qt=new Map;function na({fps:e,config:t={},threshold:n=.005}){if(typeof n!="number")throw new TypeError(`threshold must be a number, got ${n} of type ${typeof n}`);if(n===0)return 1/0;if(n===1)return 0;if(isNaN(n))throw new TypeError("Threshold is NaN");if(!Number.isFinite(n))throw new TypeError("Threshold is not finite");if(n<0)throw new TypeError("Threshold is below 0");const r=[e,t.damping,t.mass,t.overshootClamping,t.stiffness,n].join("-");if(Qt.has(r))return Qt.get(r);$t(e,"to the measureSpring() function");let i=0,s=0;const u=()=>mo({fps:e,frame:i,config:t});let l=u();const a=()=>Math.abs(l.current-l.toValue);let c=a();for(;c>=n;)i++,l=u(),c=a();s=i;for(let m=0;m<20;m++)i++,l=u(),c=a(),c>=n&&(m=0,s=i+1);return Qt.set(r,s),s}function Ft({frame:e,fps:t,config:n={},from:r=0,to:i=1,durationInFrames:s,durationRestThreshold:u,delay:l=0,reverse:a=!1}){Qs(s),Js({frame:e,durationInFrames:1/0,allowFloats:!0}),$t(t,"to spring()");const c=a||typeof s<"u",m=c?na({fps:t,config:n,threshold:u}):void 0,f=c?{get:()=>m}:{get:()=>{throw new Error("did not calculate natural duration, this is an error with Remotion. Please report")}},p=(a?(s??f.get())-e:e)+(a?l:-l),w=s===void 0?p:p/(s/f.get());if(s&&p>s)return i;const g=mo({fps:t,frame:w,config:n}),y=n.overshootClamping?i>=r?Math.min(g.current,i):Math.max(g.current,i):g.current;return r===0&&i===1?y:ce(y,[0,1],[r,i])}var fr=e=>Math.round(e*1e5)/1e5,en=({element:e,desiredTime:t,logLevel:n,mountTime:r})=>{if(kt(e.currentTime,t))return{wait:Promise.resolve(t),cancel:()=>{}};xt({logLevel:n,mediaRef:e,time:t,why:"Seeking during rendering",mountTime:r});let i,s=null;const u=new Promise(a=>{i=e.requestVideoFrameCallback((c,m)=>{const f=m.expectedDisplayTime-c;if(f<=0){a(m.mediaTime);return}setTimeout(()=>{a(m.mediaTime)},f+150)})}),l=new Promise(a=>{const c=()=>{a()};e.addEventListener("seeked",c,{once:!0}),s=()=>{e.removeEventListener("seeked",c)}});return{wait:Promise.all([u,l]).then(([a])=>a),cancel:()=>{s?.(),e.cancelVideoFrameCallback(i)}}},ra=({element:e,desiredTime:t,fps:n,logLevel:r,mountTime:i})=>{const s=1/n/2;let u=()=>{};return Number.isFinite(e.duration)&&e.currentTime>=e.duration&&t>=e.duration?{prom:Promise.resolve(),cancel:()=>{}}:{prom:new Promise((a,c)=>{const m=en({element:e,desiredTime:t+s,logLevel:r,mountTime:i});m.wait.then(f=>{if(Math.abs(t-f)<=s)return a();const p=t>f?1:-1,w=en({element:e,desiredTime:f+s*p,logLevel:r,mountTime:i});u=w.cancel,w.wait.then(g=>{const y=Math.abs(t-g);if(fr(y)<=fr(s))return a();const b=en({element:e,desiredTime:t+s,logLevel:r,mountTime:i});return u=b.cancel,b.wait.then(()=>{a()}).catch(S=>{c(S)})}).catch(g=>{c(g)})}),u=m.cancel}),cancel:()=>{u()}}},oa=({onError:e,volume:t,allowAmplificationDuringRender:n,playbackRate:r,onDuration:i,toneFrequency:s,name:u,acceptableTimeShiftInSeconds:l,delayRenderRetries:a,delayRenderTimeoutInMilliseconds:c,loopVolumeCurveBehavior:m,audioStreamIndex:f,onVideoFrame:h,...p},w)=>{const g=Fe(),y=me(),b=nt(m??"repeat"),S=jt(),C=o.useRef(null),v=o.useContext(Z),E=Oe(),x=Q(),T=Me(),R=pt(),{delayRender:P,continueRender:F}=Ie(),{registerRenderAsset:N,unregisterRenderAsset:j}=o.useContext(Be),L=o.useMemo(()=>`video-${Le(p.src??"")}-${v?.cumulatedFrom}-${v?.relativeFrom}-${v?.durationInFrames}`,[p.src,v?.cumulatedFrom,v?.relativeFrom,v?.durationInFrames]);if(!S)throw new Error("No video config found");const D=Ue({volume:t,frame:b,mediaVolume:1});ot(D),o.useEffect(()=>{if(!p.src)throw new Error("No src passed");if(!p.muted&&!(D<=0)&&window.remotion_audioEnabled)return N({type:"video",src:ve(p.src),id:L,frame:g,volume:D,mediaFrame:y,playbackRate:r??1,toneFrequency:s??1,audioStartFrame:Math.max(0,-(v?.relativeFrom??0)),audioStreamIndex:f??0}),()=>j(L)},[p.muted,p.src,N,L,j,D,y,g,r,s,v?.relativeFrom,f]),o.useImperativeHandle(w,()=>C.current,[]),o.useEffect(()=>{if(!window.remotion_videoEnabled)return;const{current:k}=C;if(!k)return;const $=eo({frame:y,playbackRate:r||1,startFrom:-E,fps:S.fps}),M=P(`Rendering <Html5Video /> with src="${p.src}" at time ${$}`,{retries:a??void 0,timeoutInMilliseconds:c??void 0});if(window.process?.env?.NODE_ENV==="test"){F(M);return}if(kt(k.currentTime,$)){if(k.readyState>=2){F(M);return}const G=()=>{F(M)};return k.addEventListener("loadeddata",G,{once:!0}),()=>{k.removeEventListener("loadeddata",G)}}const _=()=>{F(M)},K=ra({element:k,desiredTime:$,fps:S.fps,logLevel:T,mountTime:R});K.prom.then(()=>{F(M)}),k.addEventListener("ended",_,{once:!0});const Y=()=>{if(k?.error){if(console.error("Error occurred in video",k?.error),e)return;throw new Error(`The browser threw an error while playing the video ${p.src}: Code ${k.error.code} - ${k?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`)}else throw new Error("The browser threw an error")};return k.addEventListener("error",Y,{once:!0}),()=>{K.cancel(),k.removeEventListener("ended",_),k.removeEventListener("error",Y),F(M)}},[b,p.src,r,S.fps,y,E,e,a,c,T,R,F,P]);const{src:B}=p;return x.isRendering&&o.useLayoutEffect(()=>{if(window.process?.env?.NODE_ENV==="test")return;const k=P("Loading <Html5Video> duration with src="+B,{retries:a??void 0,timeoutInMilliseconds:c??void 0}),{current:$}=C,M=()=>{$?.duration&&i(B,$.duration),F(k)};return $?.duration?(i(B,$.duration),F(k)):$?.addEventListener("loadedmetadata",M,{once:!0}),()=>{$?.removeEventListener("loadedmetadata",M),F(k)}},[B,i,a,c,F,P]),d.jsx("video",{ref:C,disableRemotePlayback:!0,...p})},ia=o.forwardRef(oa),sa=(e,t)=>{const{startFrom:n,endAt:r,trimBefore:i,trimAfter:s,name:u,pauseWhenBuffering:l,stack:a,_remotionInternalNativeLoopPassed:c,showInTimeline:m,onAutoPlayError:f,...h}=e,{loop:p,...w}=e,{fps:g}=ue(),y=Q();if(y.isClientSideRendering)throw new Error("<Html5Video> is not supported in @remotion/web-renderer. Use <Video> from @remotion/media instead. See https://remotion.dev/docs/client-side-rendering/limitations");const{durations:b,setDurations:S}=o.useContext(Rn);if(typeof t=="string")throw new Error("string refs are not supported");if(typeof e.src!="string")throw new TypeError(`The \`<Html5Video>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);const C=et(e.src),v=o.useCallback((P,F)=>{S({type:"got-duration",durationInSeconds:F,src:P})},[S]),E=o.useCallback(()=>{},[]),x=b[ve(C)]??b[ve(e.src)];Ot({startFrom:n,endAt:r,trimBefore:i,trimAfter:s});const{trimBeforeValue:T,trimAfterValue:R}=Ut({startFrom:n,endAt:r,trimBefore:i,trimAfter:s});if(p&&x!==void 0){if(!Number.isFinite(x))return d.jsx(Et,{...w,ref:t,stack:a,_remotionInternalNativeLoopPassed:!0});const P=x*g;return d.jsx(_t,{durationInFrames:Lt({trimAfter:R,mediaDurationInFrames:P,playbackRate:e.playbackRate??1,trimBefore:T}),layout:"none",name:u,children:d.jsx(Et,{...w,ref:t,stack:a,_remotionInternalNativeLoopPassed:!0})})}return typeof T<"u"||typeof R<"u"?d.jsx(xe,{layout:"none",from:0-(T??0),showInTimeline:!1,durationInFrames:R===void 0?void 0:R/(e.playbackRate??1),name:u,children:d.jsx(Et,{pauseWhenBuffering:l??!1,...h,ref:t,stack:a})}):(Bt({playbackRate:e.playbackRate,volume:e.volume},"Html5Video"),y.isRendering?d.jsx(ia,{onDuration:v,onVideoFrame:E??null,...h,ref:t}):d.jsx(jn,{onlyWarnForMediaSeekingError:!1,...h,ref:t,onVideoFrame:null,pauseWhenBuffering:l??!1,onDuration:v,_remotionInternalStack:a??null,_remotionInternalNativeLoopPassed:c??!1,showInTimeline:m??!0,onAutoPlayError:f??void 0}))},Et=o.forwardRef(sa);Ke(Et);Oo();var aa={},ua=new Proxy(aa,{get(e,t){return t==="Bundling"||t==="Rendering"||t==="Log"||t==="Puppeteer"||t==="Output"?ua:()=>{console.warn("âš ï¸  The CLI configuration has been extracted from Remotion Core."),console.warn("Update the import from the config file:"),console.warn(),console.warn("- Delete:"),console.warn('import {Config} from "remotion";'),console.warn("+ Replace:"),console.warn('import {Config} from "@remotion/cli/config";'),console.warn(),console.warn("For more information, see https://www.remotion.dev/docs/4-0-migration."),process.exit(1)}}});Ke(xe);typeof window<"u"&&(window.remotion_renderReady=!1,window.remotion_delayRenderTimeouts||(window.remotion_delayRenderTimeouts={}),window.remotion_delayRenderHandles=[]);var la=(e,t,n)=>{if(e){if(typeof e!="object")throw new Error(`"${t}" must be an object, but you passed a value of type ${typeof e}`);if(Array.isArray(e))throw new Error(`"${t}" must be an object, an array was passed ${n?`for composition "${n}"`:""}`)}};function ca(e,t,n){if(typeof e!="number")throw new Error(`The "${t}" prop ${n} must be a number, but you passed a value of type ${typeof e}`);if(isNaN(e))throw new TypeError(`The "${t}" prop ${n} must not be NaN, but is NaN.`);if(!Number.isFinite(e))throw new TypeError(`The "${t}" prop ${n} must be finite, but is ${e}.`);if(e%1!==0)throw new TypeError(`The "${t}" prop ${n} must be an integer, but is ${e}.`);if(e<=0)throw new TypeError(`The "${t}" prop ${n} must be positive, but got ${e}.`)}function da(e,t){const{allowFloats:n,component:r}=t;if(typeof e>"u")throw new Error(`The "durationInFrames" prop ${r} is missing.`);if(typeof e!="number")throw new Error(`The "durationInFrames" prop ${r} must be a number, but you passed a value of type ${typeof e}`);if(e<=0)throw new TypeError(`The "durationInFrames" prop ${r} must be positive, but got ${e}.`);if(!n&&e%1!==0)throw new TypeError(`The "durationInFrames" prop ${r} must be an integer, but got ${e}.`);if(!Number.isFinite(e))throw new TypeError(`The "durationInFrames" prop ${r} must be finite, but got ${e}.`)}function fa(e,t,n){if(typeof e!="number")throw new Error(`"fps" must be a number, but you passed a value of type ${typeof e} ${t}`);if(!Number.isFinite(e))throw new Error(`"fps" must be a finite, but you passed ${e} ${t}`);if(isNaN(e))throw new Error(`"fps" must not be NaN, but got ${e} ${t}`);if(e<=0)throw new TypeError(`"fps" must be positive, but got ${e} ${t}`);if(n&&e>50)throw new TypeError("The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif")}var Wt={validateFps:fa,validateDimension:ca,validateDurationInFrames:da,validateDefaultAndInputProps:la},te=25,mn=16,ma=()=>d.jsx("svg",{width:te,height:te,viewBox:"0 0 25 25",fill:"none",children:d.jsx("path",{d:"M8 6.375C7.40904 8.17576 7.06921 10.2486 7.01438 12.3871C6.95955 14.5255 7.19163 16.6547 7.6875 18.5625C9.95364 18.2995 12.116 17.6164 14.009 16.5655C15.902 15.5147 17.4755 14.124 18.6088 12.5C17.5158 10.8949 15.9949 9.51103 14.1585 8.45082C12.3222 7.3906 10.2174 6.68116 8 6.375Z",fill:"white",stroke:"white",strokeWidth:"6.25",strokeLinejoin:"round"})}),pa=()=>d.jsxs("svg",{viewBox:"0 0 100 100",width:te,height:te,children:[d.jsx("rect",{x:"25",y:"20",width:"20",height:"60",fill:"#fff",ry:"5",rx:"5"}),d.jsx("rect",{x:"55",y:"20",width:"20",height:"60",fill:"#fff",ry:"5",rx:"5"})]}),ha=({isFullscreen:e})=>{const r=e?0:3,i=e?6*1.6:6/2,s=e?6*1.6:12;return d.jsxs("svg",{viewBox:"0 0 32 32",height:mn,width:mn,children:[d.jsx("path",{d:`
				M ${r} ${s}
				L ${i} ${i}
				L ${s} ${r}
				`,stroke:"#fff",strokeWidth:6,fill:"none"}),d.jsx("path",{d:`
				M ${32-r} ${s}
				L ${32-i} ${i}
				L ${32-s} ${r}
				`,stroke:"#fff",strokeWidth:6,fill:"none"}),d.jsx("path",{d:`
				M ${r} ${32-s}
				L ${i} ${32-i}
				L ${s} ${32-r}
				`,stroke:"#fff",strokeWidth:6,fill:"none"}),d.jsx("path",{d:`
				M ${32-r} ${32-s}
				L ${32-i} ${32-i}
				L ${32-s} ${32-r}
				`,stroke:"#fff",strokeWidth:6,fill:"none"})]})},ga=()=>d.jsx("svg",{width:te,height:te,viewBox:"0 0 24 24",children:d.jsx("path",{d:"M3.63 3.63a.996.996 0 000 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34a.996.996 0 101.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12A4.5 4.5 0 0014 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z",fill:"#fff"})}),wa=()=>d.jsx("svg",{width:te,height:te,viewBox:"0 0 24 24",children:d.jsx("path",{d:"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z",fill:"#fff"})}),mr="__remotion_buffering_indicator",pr="__remotion_buffering_animation",va={width:te,height:te,overflow:"hidden",lineHeight:"normal",fontSize:"inherit"},ya={width:14,height:14,overflow:"hidden",lineHeight:"normal",fontSize:"inherit"},ba=({type:e})=>{const t=e==="player"?va:ya;return d.jsxs(d.Fragment,{children:[d.jsx("style",{type:"text/css",children:`
				@keyframes ${pr} {
          0% {
            rotate: 0deg;
          }
          100% {
            rotate: 360deg;
          }
        }
        
        .${mr} {
            animation: ${pr} 1s linear infinite;
        }        
			`}),d.jsx("div",{style:t,children:d.jsx("svg",{viewBox:e==="player"?"0 0 22 22":"0 0 18 18",style:t,className:mr,children:d.jsx("path",{d:e==="player"?"M 11 4 A 7 7 0 0 1 15.1145 16.66312":"M 9 2 A 7 7 0 0 1 13.1145 14.66312",stroke:"white",strokeLinecap:"round",fill:"none",strokeWidth:3})})})]})},xa=({currentSize:e,width:t,height:n,compositionWidth:r,compositionHeight:i})=>t!==void 0&&n===void 0?{aspectRatio:[r,i].join("/")}:n!==void 0&&t===void 0?{aspectRatio:[r,i].join("/")}:e?{width:r,height:i}:{width:r,height:i},po=({previewSize:e,compositionWidth:t,compositionHeight:n,canvasSize:r})=>{const i=I.calculateScale({canvasSize:r,compositionHeight:n,compositionWidth:t,previewSize:e}),s=0-(1-i)/2,u=s*t,l=s*n,a=t*i,c=n*i,m=r.width/2-a/2,f=r.height/2-c/2;return{centerX:m,centerY:f,xCorrection:u,yCorrection:l,scale:i}},ho=({config:e,style:t,canvasSize:n,overflowVisible:r,layout:i})=>e?{position:"relative",overflow:r?"visible":"hidden",...xa({compositionHeight:e.height,compositionWidth:e.width,currentSize:n,height:t?.height,width:t?.width}),opacity:i?1:0,...t}:{},go=({config:e,layout:t,scale:n,overflowVisible:r})=>e?t?{position:"absolute",width:e.width,height:e.height,display:"flex",transform:`scale(${n})`,marginLeft:t.xCorrection,marginTop:t.yCorrection,overflow:r?"visible":"hidden"}:{position:"absolute",width:e.width,height:e.height,display:"flex",transform:`scale(${n})`,overflow:r?"visible":"hidden"}:{},wo=({layout:e,scale:t,config:n,overflowVisible:r})=>{if(!n)return{};if(!e)return{width:n.width*t,height:n.height*t,display:"flex",flexDirection:"column",position:"absolute",overflow:r?"visible":"hidden"};const{centerX:i,centerY:s}=e;return{width:n.width*t,height:n.height*t,display:"flex",flexDirection:"column",position:"absolute",left:i,top:s,overflow:r?"visible":"hidden"}},vo=V.createContext(void 0),yo=V.createContext(void 0);class Ca{listeners={ended:[],error:[],pause:[],play:[],ratechange:[],scalechange:[],seeked:[],timeupdate:[],frameupdate:[],fullscreenchange:[],volumechange:[],mutechange:[],waiting:[],resume:[]};addEventListener(t,n){this.listeners[t].push(n)}removeEventListener(t,n){this.listeners[t]=this.listeners[t].filter(r=>r!==n)}dispatchEvent(t,n){this.listeners[t].forEach(r=>{r({detail:n})})}dispatchSeek=t=>{this.dispatchEvent("seeked",{frame:t})};dispatchVolumeChange=t=>{this.dispatchEvent("volumechange",{volume:t})};dispatchPause=()=>{this.dispatchEvent("pause",void 0)};dispatchPlay=()=>{this.dispatchEvent("play",void 0)};dispatchEnded=()=>{this.dispatchEvent("ended",void 0)};dispatchRateChange=t=>{this.dispatchEvent("ratechange",{playbackRate:t})};dispatchScaleChange=t=>{this.dispatchEvent("scalechange",{scale:t})};dispatchError=t=>{this.dispatchEvent("error",{error:t})};dispatchTimeUpdate=t=>{this.dispatchEvent("timeupdate",t)};dispatchFrameUpdate=t=>{this.dispatchEvent("frameupdate",t)};dispatchFullscreenChange=t=>{this.dispatchEvent("fullscreenchange",t)};dispatchMuteChange=t=>{this.dispatchEvent("mutechange",t)};dispatchWaiting=t=>{this.dispatchEvent("waiting",t)};dispatchResume=t=>{this.dispatchEvent("resume",t)}}class Ea{listeners={error:[],waiting:[],resume:[]};addEventListener(t,n){this.listeners[t].push(n)}removeEventListener(t,n){this.listeners[t]=this.listeners[t].filter(r=>r!==n)}dispatchEvent(t,n){this.listeners[t].forEach(r=>{r({detail:n})})}dispatchError=t=>{this.dispatchEvent("error",{error:t})};dispatchWaiting=t=>{this.dispatchEvent("waiting",t)};dispatchResume=t=>{this.dispatchEvent("resume",t)}}var bo=e=>{const t=o.useContext(I.BufferingContextReact);if(!t)throw new Error("BufferingContextReact not found");o.useLayoutEffect(()=>{const n=t.listenForBuffering(()=>{t.buffering.current=!0,e.dispatchWaiting({})}),r=t.listenForResume(()=>{t.buffering.current=!1,e.dispatchResume({})});return()=>{n.remove(),r.remove()}},[t,e])},Sa=({children:e,currentPlaybackRate:t})=>{const[n]=o.useState(()=>new Ca);if(!o.useContext(I.BufferingContextReact))throw new Error("BufferingContextReact not found");return o.useEffect(()=>{t&&n.dispatchRateChange(t)},[n,t]),bo(n),d.jsx(vo.Provider,{value:n,children:e})},_n=(e,t)=>{const[n,r]=o.useState(!1);return o.useEffect(()=>{const{current:i}=e;if(!i)return;let s;const u=()=>{t&&(clearTimeout(s),s=setTimeout(()=>{r(!1)},t===!0?3e3:t))},l=()=>{r(!0),u()},a=()=>{r(!1),clearTimeout(s)},c=()=>{r(!0),u()};return i.addEventListener("mouseenter",l),i.addEventListener("mouseleave",a),i.addEventListener("mousemove",c),()=>{i.removeEventListener("mouseenter",l),i.removeEventListener("mouseleave",a),i.removeEventListener("mousemove",c),clearTimeout(s)}},[t,e]),n},zt=()=>{const[e,t,n]=I.Timeline.usePlayingState(),[r,i]=o.useState(!1),s=I.Timeline.useTimelinePosition(),u=o.useRef(s),l=I.Timeline.useTimelineSetFrame(),a=I.Timeline.useTimelineSetFrame(),c=o.useContext(I.SharedAudioContext),{audioAndVideoTags:m}=o.useContext(I.TimelineContext),f=o.useRef(s);f.current=s;const h=I.useVideo(),p=I.useUnsafeVideoConfig(),w=o.useContext(vo),g=(p?.durationInFrames??1)-1,y=s===g,b=s===0;if(!w)throw new TypeError("Expected Player event emitter context");const S=o.useContext(I.BufferingContextReact);if(!S)throw new Error("Missing the buffering context. Most likely you have a Remotion version mismatch.");const{buffering:C}=S,v=o.useCallback(k=>{h?.id&&a($=>({...$,[h.id]:k})),f.current=k,w.dispatchSeek(k)},[w,a,h?.id]),E=o.useCallback(k=>{n.current||(i(!0),y&&v(0),c?.audioContext?.resume(),c&&c.numberOfAudioTags>0&&k&&c.playAllAudios(),m.current.forEach($=>$.play("player play() was called and playing audio from a click")),n.current=!0,t(!0),u.current=f.current,w.dispatchPlay())},[n,y,c,t,w,v,m]),x=o.useCallback(()=>{n.current&&(n.current=!1,t(!1),w.dispatchPause(),c?.audioContext?.suspend())},[w,n,t,c]),T=o.useCallback(()=>{n.current&&(n.current=!1,f.current=u.current,p&&(a(k=>({...k,[p.id]:u.current})),t(!1),w.dispatchPause()))},[p,w,n,t,a]),R=h?.id,P=o.useCallback(k=>{if(!R)return null;n.current||l($=>{const M=$[R]??window.remotion_initialFrame??0,_=Math.max(0,M-k);return M===_?$:{...$,[R]:_}})},[n,l,R]),F=o.useCallback(k=>{if(!R)return null;n.current||l($=>{const M=$[R]??window.remotion_initialFrame??0,_=Math.min(g,M+k);return M===_?$:{...$,[R]:_}})},[R,n,g,l]),N=o.useCallback(k=>{n.current?x():E(k)},[n,x,E]),j=o.useCallback(()=>n.current,[n]),L=o.useCallback(()=>f.current,[f]),D=o.useCallback(()=>C.current,[C]);return o.useMemo(()=>({frameBack:P,frameForward:F,isLastFrame:y,emitter:w,playing:e,play:E,pause:x,seek:v,isFirstFrame:b,getCurrentFrame:L,isPlaying:j,isBuffering:D,pauseAndReturnToPlayStart:T,hasPlayed:r,toggle:N}),[w,P,F,r,b,y,L,x,T,E,e,v,N,j,D])},Ta=({browserMediaControlsBehavior:e,videoConfig:t,playbackRate:n})=>{const{playing:r,pause:i,play:s,emitter:u,getCurrentFrame:l,seek:a}=zt();o.useEffect(()=>{navigator.mediaSession&&e.mode!=="do-nothing"&&(r?navigator.mediaSession.playbackState="playing":navigator.mediaSession.playbackState="paused")},[e.mode,r]),o.useEffect(()=>{if(!navigator.mediaSession||e.mode==="do-nothing")return;const c=()=>{t&&navigator.mediaSession&&navigator.mediaSession.setPositionState({duration:t.durationInFrames/t.fps,playbackRate:n,position:l()/t.fps})};return u.addEventListener("timeupdate",c),()=>{u.removeEventListener("timeupdate",c)}},[e.mode,u,l,n,t]),o.useEffect(()=>{if(navigator.mediaSession&&e.mode!=="do-nothing")return navigator.mediaSession.setActionHandler("play",()=>{e.mode==="register-media-session"&&s()}),navigator.mediaSession.setActionHandler("pause",()=>{e.mode==="register-media-session"&&i()}),navigator.mediaSession.setActionHandler("seekto",c=>{e.mode==="register-media-session"&&c.seekTime!==void 0&&t&&a(Math.round(c.seekTime*t.fps))}),navigator.mediaSession.setActionHandler("seekbackward",()=>{e.mode==="register-media-session"&&t&&a(Math.max(0,Math.round((l()-10)*t.fps)))}),navigator.mediaSession.setActionHandler("seekforward",()=>{e.mode==="register-media-session"&&t&&a(Math.max(t.durationInFrames-1,Math.round((l()+10)*t.fps)))}),navigator.mediaSession.setActionHandler("previoustrack",()=>{e.mode==="register-media-session"&&a(0)}),()=>{navigator.mediaSession.metadata=null,navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("seekto",null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("previoustrack",null)}},[e.mode,l,i,s,a,t])},Ra=({time:e,currentFrame:t,playbackSpeed:n,fps:r,actualLastFrame:i,actualFirstFrame:s,framesAdvanced:u,shouldLoop:l})=>{const c=(n<0?Math.ceil:Math.floor)(e*n/(1e3/r))-u,m=c+t,f=t>i||t<s,h=m>i||m<s,p=!l&&h&&!f;return n>0?h?{nextFrame:s,framesToAdvance:c,hasEnded:p}:{nextFrame:m,framesToAdvance:c,hasEnded:p}:h?{nextFrame:i,framesToAdvance:c,hasEnded:p}:{nextFrame:m,framesToAdvance:c,hasEnded:p}},hr=()=>typeof document>"u"?!1:document.visibilityState==="hidden",Pa=()=>{const e=o.useRef(hr());return o.useEffect(()=>{const t=()=>{e.current=hr()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}},[]),e},ka=({loop:e,playbackRate:t,moveToBeginningWhenEnded:n,inFrame:r,outFrame:i,browserMediaControlsBehavior:s,getCurrentFrame:u})=>{const l=I.useUnsafeVideoConfig(),a=I.Timeline.useTimelinePosition(),{playing:c,pause:m,emitter:f,isPlaying:h}=zt(),p=I.Timeline.useTimelineSetFrame(),w=Pa(),g=o.useRef(null),y=o.useContext(I.BufferingContextReact);if(!y)throw new Error("Missing the buffering context. Most likely you have a Remotion version mismatch.");Ta({browserMediaControlsBehavior:s,playbackRate:t,videoConfig:l}),o.useEffect(()=>{if(!l||!c)return;let b=!1,S=null,C=performance.now(),v=0;const E=()=>{S!==null&&(S.type==="raf"?cancelAnimationFrame(S.id):clearTimeout(S.id))},x=()=>{b=!0,E()},T=()=>{if(b||!h())return;const F=performance.now()-C,N=i??l.durationInFrames-1,j=r??0,L=u(),{nextFrame:D,framesToAdvance:B,hasEnded:k}=Ra({time:F,currentFrame:L,playbackSpeed:t,fps:l.fps,actualFirstFrame:j,actualLastFrame:N,framesAdvanced:v,shouldLoop:e});if(v+=B,D!==u()&&(!k||n)&&p($=>({...$,[l.id]:D})),k){x(),m(),f.dispatchEnded();return}R()},R=()=>{if(y.buffering.current){const F=y.listenForResume(()=>{F.remove(),C=performance.now(),v=0,R()});return}if(w.current){S={type:"timeout",id:setTimeout(T,1e3/l.fps)};return}S={type:"raf",id:requestAnimationFrame(T)}};R();const P=()=>{document.visibilityState!=="visible"&&(E(),T())};return window.addEventListener("visibilitychange",P),()=>{window.removeEventListener("visibilitychange",P),x()}},[l,e,m,c,p,f,t,r,i,n,w,u,y,h]),o.useEffect(()=>{const b=setInterval(()=>{g.current!==u()&&(f.dispatchTimeUpdate({frame:u()}),g.current=u())},250);return()=>clearInterval(b)},[f,u]),o.useEffect(()=>{f.dispatchFrameUpdate({frame:a})},[f,a])},tn=[],Dn=(e,t)=>{const[n,r]=o.useState(()=>{if(!e.current)return null;const u=e.current.getClientRects();return u[0]?{width:u[0].width,height:u[0].height,left:u[0].x,top:u[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}}:null}),i=o.useMemo(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(u=>{const{contentRect:l,target:a}=u[0],c=a.getClientRects();if(!c?.[0]){r(null);return}const m=l.width===0?1:c[0].width/l.width,f=t.shouldApplyCssTransforms||m===0?c[0].width:c[0].width*(1/m),h=t.shouldApplyCssTransforms||m===0?c[0].height:c[0].height*(1/m);r(p=>p&&p.width===f&&p.height===h&&p.left===c[0].x&&p.top===c[0].y&&p.windowSize.height===window.innerHeight&&p.windowSize.width===window.innerWidth?p:{width:f,height:h,left:c[0].x,top:c[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}})}),[t.shouldApplyCssTransforms]),s=o.useCallback(()=>{if(!e.current)return;const u=e.current.getClientRects();if(!u[0]){r(null);return}r(l=>l&&l.width===u[0].width&&l.height===u[0].height&&l.left===u[0].x&&l.top===u[0].y&&l.windowSize.height===window.innerHeight&&l.windowSize.width===window.innerWidth?l:{width:u[0].width,height:u[0].height,left:u[0].x,top:u[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}})},[e]);return o.useEffect(()=>{if(!i)return;const{current:u}=e;return u&&i.observe(u),()=>{u&&i.unobserve(u)}},[i,e,s]),o.useEffect(()=>{if(t.triggerOnWindowResize)return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[t.triggerOnWindowResize,s]),o.useEffect(()=>(tn.push(s),()=>{tn=tn.filter(u=>u!==s)}),[s]),o.useMemo(()=>n?{...n,refresh:s}:null,[n,s])},gr=({playing:e,buffering:t})=>e&&t?d.jsx(ba,{type:"player"}):e?d.jsx(pa,{}):d.jsx(ma,{}),Ye=12,wr=5,Fa=({volume:e,isVertical:t,onBlur:n,inputRef:r,setVolume:i})=>{const s=o.useMemo(()=>{const h={paddingLeft:5,height:te,width:je,display:"inline-flex",alignItems:"center"};return t?{...h,position:"absolute",transform:`rotate(-90deg) translateX(${je/2+te/2}px)`}:{...h}},[t]),u=typeof V.useId>"u"?"volume-slider":V.useId(),[l]=o.useState(()=>`__remotion-volume-slider-${Le(u)}`.replace(".","")),a=o.useCallback(f=>{i(parseFloat(f.target.value))},[i]),c=o.useMemo(()=>{const f={WebkitAppearance:"none",backgroundColor:"rgba(255, 255, 255, 0.5)",borderRadius:wr/2,cursor:"pointer",height:wr,width:je,backgroundImage:`linear-gradient(
				to right,
				white ${e*100}%, rgba(255, 255, 255, 0) ${e*100}%
			)`};return t?{...f,bottom:te+je/2}:f},[t,e]),m=`
	.${l}::-webkit-slider-thumb {
		-webkit-appearance: none;
		background-color: white;
		border-radius: ${Ye/2}px;
		box-shadow: 0 0 2px black;
		height: ${Ye}px;
		width: ${Ye}px;
	}

	.${l}::-moz-range-thumb {
		-webkit-appearance: none;
		background-color: white;
		border-radius: ${Ye/2}px;
		box-shadow: 0 0 2px black;
		height: ${Ye}px;
		width: ${Ye}px;
	}
`;return d.jsxs("div",{style:s,children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:m}}),d.jsx("input",{ref:r,"aria-label":"Change volume",className:l,max:1,min:0,onBlur:n,onChange:a,step:.01,type:"range",value:e,style:c})]})},Ma=e=>d.jsx(Fa,{...e}),je=100,Ia=({displayVerticalVolumeSlider:e,renderMuteButton:t,renderVolumeSlider:n})=>{const[r,i]=I.useMediaMutedState(),[s,u]=I.useMediaVolumeState(),[l,a]=o.useState(!1),c=o.useRef(null),m=o.useRef(null),f=_n(c,!1),h=o.useCallback(()=>{setTimeout(()=>{m.current&&document.activeElement!==m.current&&a(!1)},10)},[]),p=s===0,w=o.useCallback(()=>{if(p){u(1),i(!1);return}i(v=>!v)},[p,i,u]),g=o.useMemo(()=>({display:"inline-flex",background:"none",border:"none",justifyContent:"center",alignItems:"center",touchAction:"none",...e&&{position:"relative"}}),[e]),y=o.useMemo(()=>({display:"inline",width:te,height:te,cursor:"pointer",appearance:"none",background:"none",border:"none",padding:0}),[]),b=o.useCallback(({muted:v,volume:E})=>{const x=v||E===0;return d.jsx("button",{"aria-label":x?"Unmute sound":"Mute sound",title:x?"Unmute sound":"Mute sound",onClick:w,onBlur:h,onFocus:()=>a(!0),style:y,type:"button",children:x?d.jsx(ga,{}):d.jsx(wa,{})})},[h,w,y]),S=o.useMemo(()=>t?t({muted:r,volume:s}):b({muted:r,volume:s}),[r,s,b,t]),C=o.useMemo(()=>(l||f)&&!r&&!I.isIosSafari()?(n??Ma)({isVertical:e,volume:s,onBlur:()=>a(!1),inputRef:m,setVolume:u}):null,[e,l,f,r,s,n,u]);return d.jsxs("div",{ref:c,style:g,children:[S,C]})};function $a(e){const[t,n]=o.useState(e),r=o.useRef(null);return o.useEffect(()=>{const i=s=>{r.current&&!r.current.contains(s.target)&&n(!1)};return document.addEventListener("pointerup",i,!0),()=>{document.removeEventListener("pointerup",i,!0)}},[]),{ref:r,isComponentVisible:t,setIsComponentVisible:n}}var Aa=35,Na=70,Va={height:30,paddingRight:15,paddingLeft:12,display:"flex",flexDirection:"row",alignItems:"center"},ja={width:22,display:"flex",alignItems:"center"},La={width:14,height:14,color:"black"},_a=()=>d.jsx("svg",{viewBox:"0 0 512 512",style:La,children:d.jsx("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}),Da=e=>{const t=e.toString();return t.includes(".")?t:t+".0"},Ba=({rate:e,onSelect:t,selectedRate:n,keyboardSelectedRate:r})=>{const i=o.useCallback(f=>{f.stopPropagation(),f.preventDefault(),t(e)},[t,e]),[s,u]=o.useState(!1),l=o.useCallback(()=>{u(!0)},[]),a=o.useCallback(()=>{u(!1)},[]),c=r===e,m=o.useMemo(()=>({...Va,backgroundColor:s||c?"#eee":"transparent"}),[s,c]);return d.jsxs("div",{onPointerEnter:l,onPointerLeave:a,tabIndex:0,style:m,onClick:i,children:[d.jsx("div",{style:ja,children:e===n?d.jsx(_a,{}):null}),Da(e),"x"]},e)},Oa=({setIsComponentVisible:e,playbackRates:t,canvasSize:n})=>{const{setPlaybackRate:r,playbackRate:i}=o.useContext(I.TimelineContext),[s,u]=o.useState(i);o.useEffect(()=>{const c=m=>{if(m.preventDefault(),m.key==="ArrowUp"){const f=t.findIndex(h=>h===s);if(f===0)return;u(f===-1?t[0]:t[f-1])}else if(m.key==="ArrowDown"){const f=t.findIndex(h=>h===s);if(f===t.length-1)return;u(f===-1?t[t.length-1]:t[f+1])}else m.key==="Enter"&&(r(s),e(!1))};return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[t,s,r,e]);const l=o.useCallback(c=>{r(c),e(!1)},[e,r]),a=o.useMemo(()=>({position:"absolute",right:0,width:125,maxHeight:n.height-Na-Aa,bottom:35,background:"#fff",borderRadius:4,overflow:"auto",color:"black",textAlign:"left"}),[n.height]);return d.jsx("div",{style:a,children:t.map(c=>d.jsx(Ba,{selectedRate:i,onSelect:l,rate:c,keyboardSelectedRate:s},c))})},Ua={fontSize:13,fontWeight:"bold",color:"white",border:"2px solid white",borderRadius:20,paddingLeft:8,paddingRight:8,paddingTop:2,paddingBottom:2},pn={appearance:"none",backgroundColor:"transparent",border:"none",cursor:"pointer",paddingLeft:0,paddingRight:0,paddingTop:6,paddingBottom:6,height:37,display:"inline-flex",marginBottom:0,marginTop:0,alignItems:"center"},Ha={...pn,position:"relative"},qa=({playbackRates:e,canvasSize:t})=>{const{ref:n,isComponentVisible:r,setIsComponentVisible:i}=$a(!1),{playbackRate:s}=o.useContext(I.TimelineContext),u=o.useCallback(l=>{l.stopPropagation(),l.preventDefault(),i(a=>!a)},[i]);return d.jsx("div",{ref:n,children:d.jsxs("button",{type:"button","aria-label":"Change playback rate",style:Ha,onClick:u,children:[d.jsxs("div",{style:Ua,children:[s,"x"]}),r&&d.jsx(Oa,{canvasSize:t,playbackRates:e,setIsComponentVisible:i})]})})},vr=(e,t,n)=>Math.round(ce(e,[0,n],[0,t-1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"})),Je=5,at=12,hn=4,Wa={userSelect:"none",WebkitUserSelect:"none",paddingTop:hn,paddingBottom:hn,boxSizing:"border-box",cursor:"pointer",position:"relative",touchAction:"none"},za={height:Je,backgroundColor:"rgba(255, 255, 255, 0.25)",width:"100%",borderRadius:Je/2},Ya=e=>{let t=e;for(;t.parentElement;)t=t.parentElement;return t},Ja=({durationInFrames:e,onSeekEnd:t,onSeekStart:n,inFrame:r,outFrame:i})=>{const s=o.useRef(null),u=_n(s,!1),l=Dn(s,{triggerOnWindowResize:!0,shouldApplyCssTransforms:!0}),{seek:a,play:c,pause:m,playing:f}=zt(),h=I.Timeline.useTimelinePosition(),[p,w]=o.useState({dragging:!1}),g=l?.width??0,y=o.useCallback(x=>{if(x.button!==0)return;const T=s.current?.getBoundingClientRect().left,R=vr(x.clientX-T,e,g);m(),a(R),w({dragging:!0,wasPlaying:f}),n()},[e,g,m,a,f,n]),b=o.useCallback(x=>{if(!l)throw new Error("Player has no size");if(!p.dragging)return;const T=s.current?.getBoundingClientRect().left,R=vr(x.clientX-T,e,l.width);a(R)},[p.dragging,e,a,l]),S=o.useCallback(()=>{w({dragging:!1}),p.dragging&&(p.wasPlaying?c():m(),t())},[p,t,m,c]);o.useEffect(()=>{if(!p.dragging)return;const x=Ya(s.current);return x.addEventListener("pointermove",b),x.addEventListener("pointerup",S),()=>{x.removeEventListener("pointermove",b),x.removeEventListener("pointerup",S)}},[p.dragging,b,S]);const C=o.useMemo(()=>({height:at,width:at,borderRadius:at/2,position:"absolute",top:hn-at/2+5/2,backgroundColor:"white",left:Math.max(0,h/Math.max(1,e-1)*g-at/2),boxShadow:"0 0 2px black",opacity:Number(u||p.dragging)}),[u,p.dragging,e,h,g]),v=o.useMemo(()=>({height:Je,backgroundColor:"rgba(255, 255, 255, 1)",width:(h-(r??0))/(e-1)*g,marginLeft:(r??0)/(e-1)*g,borderRadius:Je/2}),[e,h,r,g]),E=o.useMemo(()=>({height:Je,backgroundColor:"rgba(255, 255, 255, 0.25)",width:((i??e-1)-(r??0))/(e-1)*100+"%",marginLeft:(r??0)/(e-1)*100+"%",borderRadius:Je/2,position:"absolute"}),[e,r,i]);return d.jsxs("div",{ref:s,onPointerDown:y,style:Wa,children:[d.jsxs("div",{style:za,children:[d.jsx("div",{style:E}),d.jsx("div",{style:v})]}),d.jsx("div",{style:C})]})},yr=e=>{const t=Math.floor(e/60),n=Math.floor(e-t*60);return`${String(t)}:${String(n).padStart(2,"0")}`},Ga=({durationInFrames:e,maxTimeLabelWidth:t,fps:n})=>{const r=I.Timeline.useTimelinePosition(),i=o.useMemo(()=>({color:"white",fontFamily:"sans-serif",fontSize:14,maxWidth:t===null?void 0:t,overflow:"hidden",textOverflow:"ellipsis"}),[t]),u=r===e-1?r+1:r;return d.jsxs("div",{style:i,children:[yr(u/n)," / ",yr(e/n)]})},Ka=10,gn=12,Xa=({allowFullscreen:e,playerWidth:t})=>o.useMemo(()=>{const r=te,i=te,s=e?mn:0,u=i+r+s+gn*2+Ka*2,l=t-u,a=Math.max(l,0),c=a-je,f=(c<je?a:c)+u+je,h=t<f;return{maxTimeLabelWidth:a===0?null:a,displayVerticalVolumeSlider:h}},[e,t]),Za=[0,.013,.049,.104,.175,.259,.352,.45,.55,.648,.741,.825,.896,.951,.987],Qa=[0,8.1,15.5,22.5,29,35.3,41.2,47.1,52.9,58.8,64.7,71,77.5,84.5,91.9],eu=1/.7,tu={boxSizing:"border-box",position:"absolute",bottom:0,width:"100%",paddingTop:40,paddingBottom:10,backgroundImage:`linear-gradient(to bottom,${Za.map((e,t)=>`hsla(0, 0%, 0%, ${e}) ${Qa[t]*eu}%`).join(", ")}, hsl(0, 0%, 0%) 100%)`,backgroundSize:"auto 145px",display:"flex",paddingRight:gn,paddingLeft:gn,flexDirection:"column",transition:"opacity 0.3s"},nu={display:"flex",flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none"},ru={display:"flex",flexDirection:"row",userSelect:"none",WebkitUserSelect:"none",alignItems:"center"},ut={width:12},ou={height:8},iu={flex:1},su={},au=({durationInFrames:e,isFullscreen:t,fps:n,showVolumeControls:r,onFullscreenButtonClick:i,allowFullscreen:s,onExitFullscreenButtonClick:u,spaceKeyToPlayOrPause:l,onSeekEnd:a,onSeekStart:c,inFrame:m,outFrame:f,initiallyShowControls:h,canvasSize:p,renderPlayPauseButton:w,renderFullscreenButton:g,alwaysShowControls:y,showPlaybackRateControl:b,containerRef:S,buffering:C,hideControlsWhenPointerDoesntMove:v,onPointerDown:E,onDoubleClick:x,renderMuteButton:T,renderVolumeSlider:R,playing:P,toggle:F,renderCustomControls:N})=>{const j=o.useRef(null),[L,D]=o.useState(!1),B=_n(S,v),{maxTimeLabelWidth:k,displayVerticalVolumeSlider:$}=Xa({allowFullscreen:s,playerWidth:p?.width??0}),[M,_]=o.useState(()=>{if(typeof h=="boolean")return h;if(typeof h=="number"){if(h%1!==0)throw new Error("initiallyShowControls must be an integer or a boolean");if(Number.isNaN(h))throw new Error("initiallyShowControls must not be NaN");if(!Number.isFinite(h))throw new Error("initiallyShowControls must be finite");if(h<=0)throw new Error("initiallyShowControls must be a positive integer");return h}throw new TypeError("initiallyShowControls must be a number or a boolean")}),K=o.useMemo(()=>({...tu,opacity:Number(B||!P||M||y)}),[B,M,P,y]);o.useEffect(()=>{j.current&&l&&j.current.focus({preventScroll:!0})},[P,l]),o.useEffect(()=>{D((typeof document<"u"&&(document.fullscreenEnabled||document.webkitFullscreenEnabled))??!1)},[]),o.useEffect(()=>{if(M===!1)return;const ee=setTimeout(()=>{_(!1)},M===!0?2e3:M);return()=>{clearInterval(ee)}},[M]);const Y=o.useMemo(()=>{if(b===!0)return[.5,.8,1,1.2,1.5,1.8,2,2.5,3];if(Array.isArray(b)){for(const q of b){if(typeof q!="number")throw new Error("Every item in showPlaybackRateControl must be a number");if(q<=0)throw new Error("Every item in showPlaybackRateControl must be positive")}return b}return null},[b]),G=N?N():null,O=o.useRef(null),U=o.useRef(null),H=o.useCallback(q=>{(q.target===O.current||q.target===U.current)&&E?.(q)},[E]),X=o.useCallback(q=>{(q.target===O.current||q.target===U.current)&&x?.(q)},[x]);return d.jsxs("div",{ref:O,style:K,onPointerDown:H,onDoubleClick:X,children:[d.jsxs("div",{ref:U,style:nu,children:[d.jsxs("div",{style:ru,children:[d.jsx("button",{ref:j,type:"button",style:pn,onClick:F,"aria-label":P?"Pause video":"Play video",title:P?"Pause video":"Play video",children:w===null?d.jsx(gr,{buffering:C,playing:P}):w({playing:P,isBuffering:C})??d.jsx(gr,{buffering:C,playing:P})}),r?d.jsxs(d.Fragment,{children:[d.jsx("div",{style:ut}),d.jsx(Ia,{renderMuteButton:T,renderVolumeSlider:R,displayVerticalVolumeSlider:$})]}):null,d.jsx("div",{style:ut}),d.jsx(Ga,{durationInFrames:e,fps:n,maxTimeLabelWidth:k}),d.jsx("div",{style:ut})]}),d.jsx("div",{style:iu}),G,G&&Y&&p?d.jsx("div",{style:ut}):null,Y&&p&&d.jsx(qa,{canvasSize:p,playbackRates:Y}),Y&&L&&s?d.jsx("div",{style:ut}):null,d.jsx("div",{style:su,children:L&&s?d.jsx("button",{type:"button","aria-label":t?"Exit fullscreen":"Enter Fullscreen",title:t?"Exit fullscreen":"Enter Fullscreen",style:pn,onClick:t?u:i,children:g===null?d.jsx(ha,{isFullscreen:t}):g({isFullscreen:t})}):null})]}),d.jsx("div",{style:ou}),d.jsx(Ja,{onSeekEnd:a,onSeekStart:c,durationInFrames:e,inFrame:m,outFrame:f})]})},uu={display:"flex",justifyContent:"center",alignItems:"center",flex:1,height:"100%",width:"100%"};class xo extends V.Component{state={hasError:null};static getDerivedStateFromError(t){return{hasError:t}}componentDidCatch(t){this.props.onError(t)}render(){return this.state.hasError?d.jsx("div",{style:uu,children:this.props.errorFallback({error:this.state.hasError})}):this.props.children}}var lu=async()=>{if(typeof window>"u"||typeof window.crypto>"u"||typeof window.crypto.subtle>"u")return null;try{const e=await crypto.subtle.digest("SHA-256",new TextEncoder().encode(window.location.hostname));return Array.from(new Uint8Array(e)).map(t=>t.toString(16).padStart(2,"0")).join("")}catch{return null}},nn={backgroundColor:"red",position:"absolute",padding:12,fontFamily:"Arial"},cu=["28d262b44cc61fa750f1686b16ad0604dabfe193fbc263eec05c89b7ad4c2cd6","4db1b0a94be33165dfefcb3ba03d04c7a2666dd27c496d3dc9fa41858e94925e","fbc48530bbf245da790f63675e84e06bab38c3b114fab07eb350025119922bdc","7baf10a8932757b1b3a22b3fce10a048747ac2f8eaf638603487e3705b07eb83","8a6c21a598d8c667272b5207c051b85997bf5b45d5fb712378be3f27cd72c6a6","a2f7aaac9c50a9255e7fc376110c4e0bfe153722dc66ed3c5d3bf2a135f65518"],br=!1,du=()=>{const[e,t]=V.useState(!1);return o.useEffect(()=>{br||(br=!0,lu().then(n=>{n&&cu.includes(n)&&t(!0)}).catch(()=>{}))},[]),o.useEffect(()=>{if(!e)return;const n=()=>{if(!document.querySelector(".warning-banner")){const s=document.createElement("div");s.className="warning-banner",Object.assign(s.style,nn,{zIndex:"9999",cssText:`${nn.cssText} !important;`}),s.innerHTML=`
	        <a href="https://github.com/remotion-dev/remotion/pull/4589" style="color: white;">
	          Remotion Unlicensed â€“ Contact hi@remotion.dev
	        </a>
	      `,document.body.appendChild(s)}},r=new MutationObserver(()=>n());return r.observe(document.body,{childList:!0,subtree:!0}),()=>{r.disconnect()}},[e]),e?d.jsx("div",{style:nn,className:"warning-banner",children:d.jsx("a",{style:{color:"white"},href:"https://github.com/remotion-dev/remotion/pull/4589",children:"Remotion Unlicensed â€“ Contact hi@remotion.dev"})}):null},Bn=e=>e??"__remotion-player",Co=typeof document>"u",fu=e=>{let t=!1;return{promise:new Promise((r,i)=>{e.then(s=>{if(t){i({isCanceled:t,value:s});return}r(s)}).catch(s=>{i({isCanceled:t,error:s})})}),cancel:()=>{t=!0}}},mu=e=>new Promise(t=>setTimeout(t,e)),pu=()=>{const e=o.useRef([]),t=o.useCallback(s=>{e.current=[...e.current,s]},[]),n=o.useCallback(s=>{e.current=e.current.filter(u=>u!==s)},[]),r=o.useCallback(()=>e.current.map(s=>s.cancel()),[]);return o.useMemo(()=>({appendPendingPromise:t,removePendingPromise:n,clearPendingPromises:r}),[t,r,n])},hu=(e,t,n)=>{const r=pu(),i=o.useCallback(async a=>{if(a instanceof PointerEvent?a.pointerType==="touch":a.nativeEvent.pointerType==="touch"){e(a);return}r.clearPendingPromises();const c=fu(mu(200));r.appendPendingPromise(c);try{await c.promise,r.removePendingPromise(c),e(a)}catch(m){const f=m;if(r.removePendingPromise(c),!f.isCanceled)throw f.error}},[r,e]),s=o.useCallback(()=>{document.addEventListener("pointerup",a=>{i(a)},{once:!0})},[i]),u=o.useCallback(()=>{r.clearPendingPromises(),t()},[r,t]);return o.useMemo(()=>n?{handlePointerDown:s,handleDoubleClick:u}:{handlePointerDown:e,handleDoubleClick:()=>{}},[n,u,s,e])},wn=V.version.split(".")[0];if(wn==="0")throw new Error(`Version ${wn} of "react" is not supported by Remotion`);var gu=parseInt(wn,10)>=18,wu=({controls:e,style:t,loop:n,autoPlay:r,allowFullscreen:i,inputProps:s,clickToPlay:u,showVolumeControls:l,doubleClickToFullscreen:a,spaceKeyToPlayOrPause:c,errorFallback:m,playbackRate:f,renderLoading:h,renderPoster:p,className:w,moveToBeginningWhenEnded:g,showPosterWhenUnplayed:y,showPosterWhenEnded:b,showPosterWhenPaused:S,showPosterWhenBuffering:C,showPosterWhenBufferingAndPaused:v,inFrame:E,outFrame:x,initiallyShowControls:T,renderFullscreen:R,renderPlayPauseButton:P,renderMuteButton:F,renderVolumeSlider:N,renderCustomControls:j,alwaysShowControls:L,showPlaybackRateControl:D,posterFillMode:B,bufferStateDelayInMilliseconds:k,hideControlsWhenPointerDoesntMove:$,overflowVisible:M,browserMediaControlsBehavior:_,overrideInternalClassName:K,noSuspense:Y},G)=>{const O=I.useUnsafeVideoConfig(),U=I.useVideo(),H=o.useRef(null),X=Dn(H,{triggerOnWindowResize:!1,shouldApplyCssTransforms:!1}),[q,ee]=o.useState(!1),[ie,ne]=o.useState(r),[oe,Ee]=o.useState(()=>!1),[ge,He]=o.useState(!1),J=o.useMemo(()=>typeof document>"u"?!1:!!(document.fullscreenEnabled||document.webkitFullscreenEnabled),[]),A=zt(),ye=A.toggle;ka({loop:n,playbackRate:f,moveToBeginningWhenEnded:g,inFrame:E,outFrame:x,getCurrentFrame:A.getCurrentFrame,browserMediaControlsBehavior:_}),o.useEffect(()=>{q&&!A.playing&&(ee(!1),A.play())},[q,A]),o.useEffect(()=>{const{current:W}=H;if(!W)return;const z=()=>{const pe=document.fullscreenElement===W||document.webkitFullscreenElement===W;Ee(pe)};return document.addEventListener("fullscreenchange",z),document.addEventListener("webkitfullscreenchange",z),()=>{document.removeEventListener("fullscreenchange",z),document.removeEventListener("webkitfullscreenchange",z)}},[]);const $e=o.useCallback(W=>{ye(W)},[ye]),be=o.useCallback(()=>{if(!i)throw new Error("allowFullscreen is false");if(!J)throw new Error("Browser doesnt support fullscreen");if(!H.current)throw new Error("No player ref found");H.current.webkitRequestFullScreen?H.current.webkitRequestFullScreen():H.current.requestFullscreen()},[i,J]),Se=o.useCallback(()=>{document.webkitExitFullscreen?document.webkitExitFullscreen():document.exitFullscreen()},[]);o.useEffect(()=>{const{current:W}=H;if(!W)return;const z=()=>{const pe=document.webkitFullscreenElement??document.fullscreenElement;pe&&pe===H.current?A.emitter.dispatchFullscreenChange({isFullscreen:!0}):A.emitter.dispatchFullscreenChange({isFullscreen:!1})};return W.addEventListener("webkitfullscreenchange",z),W.addEventListener("fullscreenchange",z),()=>{W.removeEventListener("webkitfullscreenchange",z),W.removeEventListener("fullscreenchange",z)}},[A.emitter]);const it=O?.durationInFrames??1,we=o.useMemo(()=>!O||!X?null:po({canvasSize:X,compositionHeight:O.height,compositionWidth:O.width,previewSize:"auto"}),[X,O]),le=we?.scale??1,gt=o.useRef(!1);o.useEffect(()=>{if(!gt.current){gt.current=!0;return}A.emitter.dispatchScaleChange(le)},[A.emitter,le]);const{setMediaVolume:Te,setMediaMuted:qe}=o.useContext(I.SetMediaVolumeContext),{mediaMuted:st,mediaVolume:Ae}=o.useContext(I.MediaVolumeContext);o.useEffect(()=>{A.emitter.dispatchVolumeChange(Ae)},[A.emitter,Ae]);const Ne=st||Ae===0;o.useEffect(()=>{A.emitter.dispatchMuteChange({isMuted:Ne})},[A.emitter,Ne]);const[Re,We]=o.useState(!1);o.useEffect(()=>{let W=null,z=!1;const pe=()=>{z=!1,requestAnimationFrame(()=>{k===0?We(!0):W=setTimeout(()=>{z||We(!0)},k)})},ze=()=>{requestAnimationFrame(()=>{z=!0,We(!1),W&&clearTimeout(W)})};return A.emitter.addEventListener("waiting",pe),A.emitter.addEventListener("resume",ze),()=>{A.emitter.removeEventListener("waiting",pe),A.emitter.removeEventListener("resume",ze),We(!1),W&&clearTimeout(W),z=!0}},[k,A.emitter]),o.useImperativeHandle(G,()=>{const W={play:A.play,pause:()=>{ee(!1),A.pause()},toggle:$e,getContainerNode:()=>H.current,getCurrentFrame:A.getCurrentFrame,isPlaying:A.isPlaying,seekTo:z=>{const pe=it-1,ze=Math.max(0,Math.min(pe,z));A.isPlaying()&&(ee(ze!==pe||n),A.pause()),ze===pe&&!n&&A.emitter.dispatchEnded(),A.seek(ze)},isFullscreen:()=>{const{current:z}=H;return z?document.fullscreenElement===z||document.webkitFullscreenElement===z:!1},requestFullscreen:be,exitFullscreen:Se,getVolume:()=>st?0:Ae,setVolume:z=>{if(typeof z!="number")throw new TypeError(`setVolume() takes a number, got value of type ${typeof z}`);if(isNaN(z))throw new TypeError("setVolume() got a number that is NaN. Volume must be between 0 and 1.");if(z<0||z>1)throw new TypeError(`setVolume() got a number that is out of range. Must be between 0 and 1, got ${typeof z}`);Te(z)},isMuted:()=>Ne,mute:()=>{qe(!0)},unmute:()=>{qe(!1)},getScale:()=>le,pauseAndReturnToPlayStart:()=>{A.pauseAndReturnToPlayStart()}};return Object.assign(A.emitter,W)},[it,Se,n,st,Ne,Ae,A,be,qe,Te,$e,le]);const Un=U?U.component:null,Pe=o.useMemo(()=>ho({canvasSize:X,config:O,style:t,overflowVisible:M,layout:we}),[X,O,we,M,t]),Jt=o.useMemo(()=>wo({config:O,layout:we,scale:le,overflowVisible:M}),[O,we,M,le]),To=o.useMemo(()=>go({config:O,layout:we,scale:le,overflowVisible:M}),[O,we,M,le]),Hn=A.pause,qn=A.emitter.dispatchError,Ro=o.useCallback(W=>{Hn(),qn(W)},[qn,Hn]),Po=o.useCallback(W=>{W.stopPropagation(),be()},[be]),ko=o.useCallback(W=>{W.stopPropagation(),Se()},[Se]),Fo=o.useCallback(W=>{(W instanceof MouseEvent?W.button===2:W.nativeEvent.button)||$e(W)},[$e]),Mo=o.useCallback(()=>{He(!0)},[]),Io=o.useCallback(()=>{He(!1)},[]),$o=o.useCallback(()=>{oe?Se():be()},[Se,oe,be]),{handlePointerDown:wt,handleDoubleClick:vt}=hu(Fo,$o,a&&i&&J);o.useEffect(()=>{ie&&(A.play(),ne(!1))},[ie,A]);const Ao=o.useMemo(()=>h?h({height:Pe.height,width:Pe.width,isBuffering:Re}):null,[Pe.height,Pe.width,h,Re]),No=o.useMemo(()=>({type:"scale",scale:le}),[le]);if(!O)return null;const yt=p?p({height:B==="player-size"?Pe.height:O.height,width:B==="player-size"?Pe.width:O.width,isBuffering:Re}):null;if(yt===void 0)throw new TypeError("renderPoster() must return a React element, but undefined was returned");const Wn=yt&&[S&&!A.isPlaying()&&!ge,b&&A.isLastFrame&&!A.isPlaying(),y&&!A.hasPlayed&&!A.isPlaying(),C&&Re&&A.isPlaying(),v&&Re&&!A.isPlaying()].some(Boolean),{left:qu,top:Wu,width:zu,height:Yu,...Vo}=Jt,zn=d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:Jt,onPointerDown:u?wt:void 0,onDoubleClick:a?vt:void 0,children:[d.jsxs("div",{style:To,className:Bn(K),children:[Un?d.jsx(xo,{onError:Ro,errorFallback:m,children:d.jsx(I.CurrentScaleContext.Provider,{value:No,children:d.jsx(Un,{...U?.props??{},...s??{}})})}):null,Wn&&B==="composition-size"?d.jsx("div",{style:{...Vo,width:O.width,height:O.height},onPointerDown:u?wt:void 0,onDoubleClick:a?vt:void 0,children:yt}):null]}),d.jsx(du,{})]}),Wn&&B==="player-size"?d.jsx("div",{style:Jt,onPointerDown:u?wt:void 0,onDoubleClick:a?vt:void 0,children:yt}):null,e?d.jsx(au,{fps:O.fps,playing:A.playing,toggle:A.toggle,durationInFrames:O.durationInFrames,containerRef:H,onFullscreenButtonClick:Po,isFullscreen:oe,allowFullscreen:i,showVolumeControls:l,onExitFullscreenButtonClick:ko,spaceKeyToPlayOrPause:c,onSeekEnd:Io,onSeekStart:Mo,inFrame:E,outFrame:x,initiallyShowControls:T,canvasSize:X,renderFullscreenButton:R,renderPlayPauseButton:P,alwaysShowControls:L,showPlaybackRateControl:D,buffering:Re,hideControlsWhenPointerDoesntMove:$,onDoubleClick:a?vt:void 0,onPointerDown:u?wt:void 0,renderMuteButton:F,renderVolumeSlider:N,renderCustomControls:j}):null]});return Y||Co&&!gu?d.jsx("div",{ref:H,style:Pe,className:w,children:zn}):d.jsx("div",{ref:H,style:Pe,className:w,children:d.jsx(o.Suspense,{fallback:Ao,children:zn})})},vu=o.forwardRef(wu),Eo="remotion.volumePreference",yu=(e,t,n)=>{if(!(typeof window>"u"))try{window.localStorage.setItem(n??Eo,String(e))}catch(r){I.Log.error({logLevel:t,tag:null},"Could not persist volume",r)}},bu=e=>{if(typeof window>"u")return 1;try{const t=window.localStorage.getItem(e??Eo);return t?Number(t):1}catch{return 1}},On="player-comp",So=({children:e,timelineContext:t,fps:n,compositionHeight:r,compositionWidth:i,durationInFrames:s,component:u,numberOfSharedAudioTags:l,initiallyMuted:a,logLevel:c,audioLatencyHint:m,volumePersistenceKey:f,inputProps:h,audioEnabled:p})=>{const w=o.useMemo(()=>({compositions:[{component:u,durationInFrames:s,height:r,width:i,fps:n,id:On,nonce:777,folderName:null,parentFolderName:null,schema:null,calculateMetadata:null}],folders:[],currentCompositionMetadata:{defaultCodec:null,defaultOutName:null,defaultPixelFormat:null,defaultProResProfile:null,defaultVideoImageFormat:null,durationInFrames:s,fps:n,height:r,width:i,props:h},canvasContent:{type:"composition",compositionId:"player-comp"}}),[u,s,r,i,n,h]),[g,y]=o.useState(()=>a),[b,S]=o.useState(()=>bu(f??null)),C=o.useMemo(()=>({mediaMuted:g,mediaVolume:b}),[g,b]),v=o.useCallback(R=>{S(R),yu(R,c,f??null)},[c,f]),E=o.useMemo(()=>({setMediaMuted:y,setMediaVolume:v}),[v]),x=o.useMemo(()=>({logLevel:c,mountTime:Date.now()}),[c]),T=o.useMemo(()=>({isPlayer:!0,isRendering:!1,isStudio:!1,isClientSideRendering:!1,isReadOnlyStudio:!1}),[]);return d.jsx(I.RemotionEnvironmentContext.Provider,{value:T,children:d.jsx(I.LogLevelContext.Provider,{value:x,children:d.jsx(I.CanUseRemotionHooksProvider,{children:d.jsx(I.TimelineContext.Provider,{value:t,children:d.jsx(I.CompositionManager.Provider,{value:w,children:d.jsx(I.PrefetchProvider,{children:d.jsx(I.DurationsContextProvider,{children:d.jsx(I.MediaVolumeContext.Provider,{value:C,children:d.jsx(I.SetMediaVolumeContext.Provider,{value:E,children:d.jsx(I.SharedAudioContextProvider,{numberOfAudioTags:l,audioLatencyHint:m,audioEnabled:p,children:d.jsx(I.BufferingProvider,{children:e})})})})})})})})})})})},xr=!1,xu=(e,t)=>{e||xr||(xr=!0,I.Log.warn({logLevel:t,tag:null},"Note: Some companies are required to obtain a license to use Remotion. See: https://remotion.dev/license\nPass the `acknowledgeRemotionLicense` prop to `<Player />` function to make this message disappear."))},Cr=(e,t)=>{if(typeof e>"u"||e===null)return e??null;if(typeof e!="number")throw new TypeError(`"${t}" must be a number, but is ${JSON.stringify(e)}`);if(Number.isNaN(e))throw new TypeError(`"${t}" must not be NaN, but is ${JSON.stringify(e)}`);if(!Number.isFinite(e))throw new TypeError(`"${t}" must be finite, but is ${JSON.stringify(e)}`);if(e%1!==0)throw new TypeError(`"${t}" must be an integer, but is ${JSON.stringify(e)}`);return e},Cu=({inFrame:e,durationInFrames:t,outFrame:n})=>{const r=Cr(e,"inFrame"),i=Cr(n,"outFrame");if(!(r===null&&i===null)){if(r!==null&&r>t-1)throw new Error("inFrame must be less than (durationInFrames - 1), but is "+r);if(i!==null&&i>t-1)throw new Error("outFrame must be less than (durationInFrames - 1), but is "+i);if(r!==null&&r<0)throw new Error("inFrame must be greater than 0, but is "+r);if(i!==null&&i<=0)throw new Error(`outFrame must be greater than 0, but is ${i}. If you want to render a single frame, use <Thumbnail /> instead.`);if(i!==null&&r!==null&&i<=r)throw new Error("outFrame must be greater than inFrame, but is "+i+" <= "+r)}},Eu=({initialFrame:e,durationInFrames:t})=>{if(typeof t!="number")throw new Error(`\`durationInFrames\` must be a number, but is ${JSON.stringify(t)}`);if(!(typeof e>"u")){if(typeof e!="number")throw new Error(`\`initialFrame\` must be a number, but is ${JSON.stringify(e)}`);if(Number.isNaN(e))throw new Error("`initialFrame` must be a number, but is NaN");if(!Number.isFinite(e))throw new Error("`initialFrame` must be a number, but is Infinity");if(e%1!==0)throw new Error(`\`initialFrame\` must be an integer, but is ${JSON.stringify(e)}`);if(e>t-1)throw new Error(`\`initialFrame\` must be less or equal than \`durationInFrames - 1\`, but is ${JSON.stringify(e)}`)}},Su=e=>{if(e!==void 0){if(e>4)throw new Error(`The highest possible playback rate is 4. You passed: ${e}`);if(e<-4)throw new Error(`The lowest possible playback rate is -4. You passed: ${e}`);if(e===0)throw new Error("A playback rate of 0 is not supported.")}},Tu=Wt.validateFps,Er=Wt.validateDimension,Ru=Wt.validateDurationInFrames,Pu=Wt.validateDefaultAndInputProps,ku=e=>"component"in e?e.component:null,Fu=({durationInFrames:e,compositionHeight:t,compositionWidth:n,fps:r,inputProps:i,style:s,controls:u=!1,loop:l=!1,autoPlay:a=!1,showVolumeControls:c=!0,allowFullscreen:m=!0,clickToPlay:f,doubleClickToFullscreen:h=!1,spaceKeyToPlayOrPause:p=!0,moveToBeginningWhenEnded:w=!0,numberOfSharedAudioTags:g=5,errorFallback:y=()=>"âš ï¸",playbackRate:b=1,renderLoading:S,className:C,showPosterWhenUnplayed:v,showPosterWhenEnded:E,showPosterWhenPaused:x,showPosterWhenBuffering:T,showPosterWhenBufferingAndPaused:R,initialFrame:P,renderPoster:F,inFrame:N,outFrame:j,initiallyShowControls:L,renderFullscreenButton:D,renderPlayPauseButton:B,renderVolumeSlider:k,renderCustomControls:$,alwaysShowControls:M=!1,initiallyMuted:_=!1,showPlaybackRateControl:K=!1,posterFillMode:Y="player-size",bufferStateDelayInMilliseconds:G,hideControlsWhenPointerDoesntMove:O=!0,overflowVisible:U=!1,renderMuteButton:H,browserMediaControlsBehavior:X,overrideInternalClassName:q,logLevel:ee="info",noSuspense:ie,acknowledgeRemotionLicense:ne,audioLatencyHint:oe="interactive",volumePersistenceKey:Ee,...ge},He)=>{if(typeof window<"u"&&(window.remotion_isPlayer=!0),ge.defaultProps!==void 0)throw new Error("The <Player /> component does not accept `defaultProps`, but some were passed. Use `inputProps` instead.");const J=ku(ge);if(J?.type===lr)throw new TypeError("'component' should not be an instance of <Composition/>. Pass the React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.");if(J===lr)throw new TypeError("'component' must not be the 'Composition' component. Pass your own React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.");o.useState(()=>xu(!!ne,ee));const A=I.useLazyComponent({compProps:ge,componentName:"Player",noSuspense:!!ie});Eu({initialFrame:P,durationInFrames:e});const[ye,$e]=o.useState(()=>({[On]:P??0})),[be,Se]=o.useState(!1),[it]=o.useState("player-comp"),we=o.useRef(null),le=o.useRef([]),gt=o.useRef(!1),[Te,qe]=o.useState(b);if(typeof t!="number")throw new TypeError(`'compositionHeight' must be a number but got '${typeof t}' instead`);if(typeof n!="number")throw new TypeError(`'compositionWidth' must be a number but got '${typeof n}' instead`);if(Er(t,"compositionHeight","of the <Player /> component"),Er(n,"compositionWidth","of the <Player /> component"),Ru(e,{component:"of the <Player/> component",allowFloats:!1}),Tu(r,"as a prop of the <Player/> component",!1),Pu(i,"inputProps",null),Cu({durationInFrames:e,inFrame:N,outFrame:j}),typeof u!="boolean"&&typeof u<"u")throw new TypeError(`'controls' must be a boolean or undefined but got '${typeof u}' instead`);if(typeof a!="boolean"&&typeof a<"u")throw new TypeError(`'autoPlay' must be a boolean or undefined but got '${typeof a}' instead`);if(typeof l!="boolean"&&typeof l<"u")throw new TypeError(`'loop' must be a boolean or undefined but got '${typeof l}' instead`);if(typeof h!="boolean"&&typeof h<"u")throw new TypeError(`'doubleClickToFullscreen' must be a boolean or undefined but got '${typeof h}' instead`);if(typeof c!="boolean"&&typeof c<"u")throw new TypeError(`'showVolumeControls' must be a boolean or undefined but got '${typeof c}' instead`);if(typeof m!="boolean"&&typeof m<"u")throw new TypeError(`'allowFullscreen' must be a boolean or undefined but got '${typeof m}' instead`);if(typeof f!="boolean"&&typeof f<"u")throw new TypeError(`'clickToPlay' must be a boolean or undefined but got '${typeof f}' instead`);if(typeof p!="boolean"&&typeof p<"u")throw new TypeError(`'spaceKeyToPlayOrPause' must be a boolean or undefined but got '${typeof p}' instead`);if(typeof g!="number"||g%1!==0||!Number.isFinite(g)||Number.isNaN(g)||g<0)throw new TypeError(`'numberOfSharedAudioTags' must be an integer but got '${g}' instead`);Su(Te),o.useEffect(()=>{qe(b)},[b]),o.useImperativeHandle(He,()=>we.current,[]),o.useState(()=>{I.playbackLogging({logLevel:ee,message:`[player] Mounting <Player>. User agent = ${typeof navigator>"u"?"server":navigator.userAgent}`,tag:"player",mountTime:Date.now()})});const st=o.useMemo(()=>({frame:ye,playing:be,rootId:it,playbackRate:Te,imperativePlaying:gt,setPlaybackRate:We=>{qe(We)},audioAndVideoTags:le}),[ye,Te,be,it]),Ae=o.useMemo(()=>({setFrame:$e,setPlaying:Se}),[$e]);typeof window<"u"&&o.useLayoutEffect(()=>{I.CSSUtils.injectCSS(I.CSSUtils.makeDefaultPreviewCSS(`.${Bn(q)}`,"#fff"))},[q]);const Ne=o.useMemo(()=>i??{},[i]),Re=o.useMemo(()=>X??{mode:"prevent-media-session"},[X]);return d.jsx(I.IsPlayerContextProvider,{children:d.jsx(So,{timelineContext:st,component:A,compositionHeight:t,compositionWidth:n,durationInFrames:e,fps:r,numberOfSharedAudioTags:g,initiallyMuted:_,logLevel:ee,audioLatencyHint:oe,volumePersistenceKey:Ee,inputProps:Ne,audioEnabled:!0,children:d.jsx(I.SetTimelineContext.Provider,{value:Ae,children:d.jsx(Sa,{currentPlaybackRate:Te,children:d.jsx(vu,{ref:we,posterFillMode:Y,renderLoading:S,autoPlay:!!a,loop:!!l,controls:!!u,errorFallback:y,style:s,inputProps:Ne,allowFullscreen:!!m,moveToBeginningWhenEnded:!!w,clickToPlay:typeof f=="boolean"?f:!!u,showVolumeControls:!!c,doubleClickToFullscreen:!!h,spaceKeyToPlayOrPause:!!p,playbackRate:Te,className:C??void 0,showPosterWhenUnplayed:!!v,showPosterWhenEnded:!!E,showPosterWhenPaused:!!x,showPosterWhenBuffering:!!T,showPosterWhenBufferingAndPaused:!!R,renderPoster:F,inFrame:N??null,outFrame:j??null,initiallyShowControls:L??!0,renderFullscreen:D??null,renderPlayPauseButton:B??null,renderMuteButton:H??null,renderVolumeSlider:k??null,renderCustomControls:$??null,alwaysShowControls:M,showPlaybackRateControl:K,bufferStateDelayInMilliseconds:G??300,hideControlsWhenPointerDoesntMove:O,overflowVisible:U,browserMediaControlsBehavior:Re,overrideInternalClassName:q??void 0,noSuspense:!!ie})})})})})},Mu=o.forwardRef,Iu=Mu(Fu),$u=()=>{const e=o.useContext(yo);if(!e)throw new TypeError("Expected Player event emitter context");return o.useMemo(()=>({emitter:e}),[e])},vn=V.version.split(".")[0];if(vn==="0")throw new Error(`Version ${vn} of "react" is not supported by Remotion`);var Au=parseInt(vn,10)>=18,Nu=({style:e,inputProps:t,errorFallback:n,renderLoading:r,className:i,overflowVisible:s,noSuspense:u,overrideInternalClassName:l},a)=>{const c=I.useUnsafeVideoConfig(),m=I.useVideo(),f=o.useRef(null),h=Dn(f,{triggerOnWindowResize:!1,shouldApplyCssTransforms:!1}),p=o.useMemo(()=>!c||!h?null:po({canvasSize:h,compositionHeight:c.height,compositionWidth:c.width,previewSize:"auto"}),[h,c]),w=p?.scale??1,g=$u();bo(g.emitter),o.useImperativeHandle(a,()=>{const R={getContainerNode:()=>f.current,getScale:()=>w};return Object.assign(g.emitter,R)},[w,g.emitter]);const y=m?m.component:null,b=o.useMemo(()=>ho({config:c,style:e,canvasSize:h,overflowVisible:s,layout:p}),[h,c,p,s,e]),S=o.useMemo(()=>wo({config:c,layout:p,scale:w,overflowVisible:s}),[c,p,s,w]),C=o.useMemo(()=>go({config:c,layout:p,scale:w,overflowVisible:s}),[c,p,s,w]),v=o.useCallback(R=>{g.emitter.dispatchError(R)},[g.emitter]),E=o.useMemo(()=>r?r({height:b.height,width:b.width,isBuffering:!1}):null,[b.height,b.width,r]),x=o.useMemo(()=>({type:"scale",scale:w}),[w]);if(!c)return null;const T=d.jsx("div",{style:S,children:d.jsx("div",{style:C,className:Bn(l),children:y?d.jsx(xo,{onError:v,errorFallback:n,children:d.jsx(I.CurrentScaleContext.Provider,{value:x,children:d.jsx(y,{...m?.props??{},...t??{}})})}):null})});return u||Co&&!Au?d.jsx("div",{ref:f,style:b,className:i,children:T}):d.jsx("div",{ref:f,style:b,className:i,children:d.jsx(o.Suspense,{fallback:E,children:T})})},Vu=o.forwardRef(Nu),ju=({frameToDisplay:e,style:t,inputProps:n,compositionHeight:r,compositionWidth:i,durationInFrames:s,fps:u,className:l,errorFallback:a=()=>"âš ï¸",renderLoading:c,overflowVisible:m=!1,overrideInternalClassName:f,logLevel:h="info",noSuspense:p,...w},g)=>{typeof window<"u"&&o.useLayoutEffect(()=>{window.remotion_isPlayer=!0},[]);const[y]=o.useState(()=>String(Le(null))),b=o.useRef(null),S=o.useMemo(()=>({playing:!1,frame:{[On]:e},rootId:y,imperativePlaying:{current:!1},playbackRate:1,setPlaybackRate:()=>{throw new Error("thumbnail")},audioAndVideoTags:{current:[]}}),[e,y]);o.useImperativeHandle(g,()=>b.current,[]);const C=I.useLazyComponent({compProps:w,componentName:"Thumbnail",noSuspense:!!p}),[v]=o.useState(()=>new Ea),E=o.useMemo(()=>n??{},[n]);return d.jsx(I.IsPlayerContextProvider,{children:d.jsx(So,{timelineContext:S,component:C,compositionHeight:r,compositionWidth:i,durationInFrames:s,fps:u,numberOfSharedAudioTags:0,initiallyMuted:!0,logLevel:h,audioLatencyHint:"playback",inputProps:E,audioEnabled:!1,children:d.jsx(yo.Provider,{value:v,children:d.jsx(Vu,{ref:b,className:l,errorFallback:a,inputProps:E,renderLoading:c,style:t,overflowVisible:m,overrideInternalClassName:f,noSuspense:!!p})})})})},Lu=o.forwardRef;Lu(ju);const Yt=30,Mt=15*Yt,St=3*Yt,Tt=3*Yt,ae={dark:"#0B0F17",light:"#F4F6F8",gold:"#D7A04D",gray:"rgba(244, 246, 248, 0.6)"};function _u({car:e}){const t=me(),{fps:n}=ue(),r=Ft({frame:t-10,fps:n,config:{damping:14,stiffness:80,mass:.6}}),i=Ft({frame:t-20,fps:n,config:{damping:14,stiffness:80,mass:.6}}),s=e.image_urls?.[0]??"";return d.jsxs(Ce,{"code-path":"src/components/remotion/CarShowcase.tsx:63:21",style:{backgroundColor:ae.dark},children:[s&&d.jsx(qt,{"code-path":"src/components/remotion/CarShowcase.tsx:66:29",src:s,style:{width:"100%",height:"100%",objectFit:"cover",filter:"blur(20px) brightness(0.3)",transform:"scale(1.1)"}}),d.jsxs(Ce,{"code-path":"src/components/remotion/CarShowcase.tsx:78:25",style:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 80px"},children:[d.jsx("div",{"code-path":"src/components/remotion/CarShowcase.tsx:87:29",style:{fontFamily:"'IBM Plex Mono', monospace",fontSize:11,fontWeight:500,letterSpacing:"0.2em",textTransform:"uppercase",color:ae.gold,marginBottom:16,opacity:r},children:"GlideX Cars"}),d.jsxs("div",{"code-path":"src/components/remotion/CarShowcase.tsx:103:29",style:{fontFamily:"'Montserrat', sans-serif",fontSize:56,fontWeight:800,lineHeight:1.05,color:ae.light,textTransform:"uppercase",letterSpacing:"-0.02em",opacity:r,transform:`translateY(${ce(r,[0,1],[20,0])}px)`},children:[e.brand,d.jsx("br",{"code-path":"src/components/remotion/CarShowcase.tsx:117:33"}),e.model]}),d.jsx("div",{"code-path":"src/components/remotion/CarShowcase.tsx:122:29",style:{fontFamily:"'Inter', sans-serif",fontSize:16,color:ae.gray,marginTop:16,opacity:i,transform:`translateY(${ce(i,[0,1],[12,0])}px)`},children:e.name})]})]})}function Du({imageUrl:e,car:t,slideIndex:n,totalSlides:r}){const i=me(),{fps:s}=ue(),u=Math.floor((Mt-St-Tt)/r),l=n%2===0?1:-1,a=ce(i,[0,u],[0,15*l],{extrapolateRight:"clamp"}),c=ce(i,[0,u],[1,1.06],{extrapolateRight:"clamp"}),m=ce(i,[0,12],[0,1],{extrapolateRight:"clamp"}),f=ce(i,[u-12,u],[1,0],{extrapolateLeft:"clamp",extrapolateRight:"clamp"}),h=Ft({frame:i-20,fps:s,config:{damping:12,stiffness:100,mass:.4}});return d.jsxs(Ce,{"code-path":"src/components/remotion/CarShowcase.tsx:185:21",style:{opacity:m*f},children:[d.jsx(qt,{"code-path":"src/components/remotion/CarShowcase.tsx:186:25",src:e,style:{width:"100%",height:"100%",objectFit:"cover",transform:`scale(${c}) translateX(${a}px)`}}),d.jsx(Ce,{"code-path":"src/components/remotion/CarShowcase.tsx:197:25",style:{background:"linear-gradient(180deg, transparent 50%, rgba(11,15,23,0.7) 100%)"}}),d.jsxs("div",{"code-path":"src/components/remotion/CarShowcase.tsx:205:25",style:{position:"absolute",bottom:48,left:48,right:48,display:"flex",alignItems:"center",gap:16,opacity:h,transform:`translateY(${ce(h,[0,1],[10,0])}px)`},children:[d.jsxs("div",{"code-path":"src/components/remotion/CarShowcase.tsx:219:29",style:{background:"rgba(11, 15, 23, 0.7)",backdropFilter:"blur(8px)",borderRadius:12,padding:"8px 16px",display:"flex",alignItems:"baseline",gap:4},children:[d.jsxs("span",{"code-path":"src/components/remotion/CarShowcase.tsx:230:33",style:{fontFamily:"'Montserrat', sans-serif",fontSize:20,fontWeight:700,color:ae.gold},children:["KES ",t.price.toLocaleString()]}),d.jsx("span",{"code-path":"src/components/remotion/CarShowcase.tsx:240:33",style:{fontSize:11,color:"rgba(215,160,77,0.7)"},children:"/day"})]}),d.jsxs("div",{"code-path":"src/components/remotion/CarShowcase.tsx:251:29",style:{background:"rgba(11, 15, 23, 0.5)",borderRadius:12,padding:"8px 14px",fontSize:12,color:ae.gray,fontFamily:"'Inter', sans-serif"},children:["ðŸ“ ",t.location]}),t.rating>0&&d.jsxs("div",{"code-path":"src/components/remotion/CarShowcase.tsx:266:33",style:{background:"rgba(11, 15, 23, 0.5)",borderRadius:12,padding:"8px 14px",fontSize:12,color:ae.gray,fontFamily:"'Inter', sans-serif"},children:["â­ ",Number(t.rating).toFixed(1)]}),d.jsxs("div",{"code-path":"src/components/remotion/CarShowcase.tsx:281:29",style:{marginLeft:"auto",fontSize:11,color:"rgba(244,246,248,0.4)",fontFamily:"'IBM Plex Mono', monospace"},children:[n+1,"/",r]})]})]})}function Bu({car:e}){const t=me(),{fps:n}=ue(),r=Ft({frame:t-10,fps:n,config:{damping:14,stiffness:80,mass:.5}}),i=e.image_urls?.[0]??"";return d.jsxs(Ce,{"code-path":"src/components/remotion/CarShowcase.tsx:310:21",style:{backgroundColor:ae.dark},children:[i&&d.jsx(qt,{"code-path":"src/components/remotion/CarShowcase.tsx:312:29",src:i,style:{width:"100%",height:"100%",objectFit:"cover",filter:"blur(24px) brightness(0.25)",transform:"scale(1.1)"}}),d.jsxs(Ce,{"code-path":"src/components/remotion/CarShowcase.tsx:324:25",style:{justifyContent:"center",alignItems:"center",textAlign:"center",padding:"0 80px"},children:[d.jsx("div",{"code-path":"src/components/remotion/CarShowcase.tsx:332:29",style:{fontFamily:"'Montserrat', sans-serif",fontSize:36,fontWeight:800,color:ae.light,marginBottom:20,opacity:r,transform:`translateY(${ce(r,[0,1],[16,0])}px)`},children:"Book This Car"}),d.jsxs("div",{"code-path":"src/components/remotion/CarShowcase.tsx:347:29",style:{display:"flex",alignItems:"baseline",gap:6,marginBottom:24,opacity:r},children:[d.jsxs("span",{"code-path":"src/components/remotion/CarShowcase.tsx:356:33",style:{fontFamily:"'Montserrat', sans-serif",fontSize:32,fontWeight:700,color:ae.gold},children:["KES ",e.price.toLocaleString()]}),d.jsx("span",{"code-path":"src/components/remotion/CarShowcase.tsx:366:33",style:{fontSize:14,color:"rgba(215,160,77,0.7)"},children:"/day"})]}),d.jsx("div",{"code-path":"src/components/remotion/CarShowcase.tsx:372:29",style:{background:ae.gold,color:ae.dark,fontFamily:"'Inter', sans-serif",fontSize:15,fontWeight:600,padding:"14px 40px",borderRadius:999,opacity:r,transform:`translateY(${ce(r,[0,1],[12,0])}px)`},children:"Download GlideX App"}),d.jsx("div",{"code-path":"src/components/remotion/CarShowcase.tsx:389:29",style:{position:"absolute",bottom:32,fontFamily:"'Montserrat', sans-serif",fontSize:16,fontWeight:700,color:"rgba(244, 246, 248, 0.3)"},children:"GlideX"})]})]})}const Ou=({car:e})=>{const t=e.image_urls??[],n=t.length>0?t:["/placeholder-car.jpg"],r=Math.floor((Mt-St-Tt)/n.length);return d.jsxs(Ce,{"code-path":"src/components/remotion/CarShowcase.tsx:416:25",style:{backgroundColor:ae.dark},children:[d.jsx(xe,{"code-path":"src/components/remotion/CarShowcase.tsx:418:29",from:0,durationInFrames:St,children:d.jsx(_u,{"code-path":"src/components/remotion/CarShowcase.tsx:419:33",car:e})}),n.map((i,s)=>d.jsx(xe,{"code-path":"src/components/remotion/CarShowcase.tsx:424:33",from:St+s*r,durationInFrames:r,children:d.jsx(Du,{"code-path":"src/components/remotion/CarShowcase.tsx:429:37",imageUrl:i,car:e,slideIndex:s,totalSlides:n.length})},s)),d.jsx(xe,{"code-path":"src/components/remotion/CarShowcase.tsx:439:29",from:Mt-Tt,durationInFrames:Tt,children:d.jsx(Bu,{"code-path":"src/components/remotion/CarShowcase.tsx:443:33",car:e})})]})},Uu=Mt,Hu=Yt;function Ku({car:e}){return d.jsx(Iu,{"code-path":"src/components/remotion/CarShowcasePlayer.tsx:20:9",component:Ou,inputProps:{car:e},durationInFrames:Uu,fps:Hu,compositionWidth:1920,compositionHeight:1080,style:{width:"100%",borderRadius:"16px"},autoPlay:!0,loop:!0,controls:!0})}export{Ku as default};
